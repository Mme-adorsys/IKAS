[32m{"apiConfigured":true,"level":"info","message":"Gemini service initialized","model":"gemini-1.5-pro","service":"ikas-ai-gateway","timestamp":"2025-08-19T15:40:36.908Z"}[39m
[32m{"level":"info","message":"Orchestrator initialized","service":"ikas-ai-gateway","timestamp":"2025-08-19T15:40:36.909Z"}[39m
[32m{"environment":"development","keycloakMcp":"http://localhost:8001","level":"info","message":"IKAS AI Gateway started","neo4jMcp":"http://localhost:8002","port":8000,"service":"ikas-ai-gateway","timestamp":"2025-08-19T15:40:36.911Z"}[39m
[32m{"apiConfigured":true,"level":"info","message":"Gemini service initialized","model":"gemini-1.5-pro","service":"ikas-ai-gateway","timestamp":"2025-08-20T07:42:27.262Z"}[39m
[32m{"level":"info","message":"Orchestrator initialized","service":"ikas-ai-gateway","timestamp":"2025-08-20T07:42:27.264Z"}[39m
[32m{"environment":"development","keycloakMcp":"http://localhost:8001","level":"info","message":"IKAS AI Gateway started","neo4jMcp":"http://localhost:8002","port":8005,"service":"ikas-ai-gateway","timestamp":"2025-08-20T07:42:27.267Z"}[39m
[32m{"level":"info","message":"Connecting to WebSocket server","service":"ikas-ai-gateway","timestamp":"2025-08-20T07:42:27.267Z","url":"http://localhost:3001"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"Cvot49U4xf5k2SYMAAAB","timestamp":"2025-08-20T07:42:27.289Z"}[39m
[32m{"level":"info","message":"WebSocket client connected successfully","service":"ikas-ai-gateway","timestamp":"2025-08-20T07:42:27.290Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"6798a878-0e23-41c4-9e05-c6aaa754a650","timestamp":"2025-08-20T07:42:27.290Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-20T07:42:27.290Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-20T14:57:39.861Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"Psux7dHxThzcX0owAAAF","timestamp":"2025-08-20T14:57:41.404Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"b83c30fe-702f-43c6-a050-c72a62a912d2","timestamp":"2025-08-20T14:57:41.405Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-20T14:57:41.405Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-20T16:56:27.560Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"IvhyUgC3Yz3VdiAvAAAH","timestamp":"2025-08-20T16:56:29.959Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"747aeb94-c288-4116-9088-56ac2f78d2a3","timestamp":"2025-08-20T16:56:29.960Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-20T16:56:29.960Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-20T18:35:54.246Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"fodpA7ERdmc6Pd7-AAAJ","timestamp":"2025-08-20T18:35:55.405Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"09b9fdfb-05cb-47f6-8672-16f96d2c2a7e","timestamp":"2025-08-20T18:35:55.406Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-20T18:35:55.406Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-20T19:57:35.487Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"KgnZfnlUuhOTaqHNAAAL","timestamp":"2025-08-20T19:57:37.493Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"79c3c83e-60cc-4077-b953-eed6b7aaeb59","timestamp":"2025-08-20T19:57:37.494Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-20T19:57:37.494Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-20T23:39:34.453Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"WeD3BWU191UuA8QFAAAN","timestamp":"2025-08-20T23:39:36.430Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"4f807e36-a616-426d-8c55-f61092e2ab11","timestamp":"2025-08-20T23:39:36.431Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-20T23:39:36.431Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T00:00:30.891Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"PSeYLJf1dHC0CzweAAAP","timestamp":"2025-08-21T00:00:32.274Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"789c7cdc-13e1-4ec0-b63e-8e48a2ecb9bd","timestamp":"2025-08-21T00:00:32.275Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T00:00:32.275Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T00:33:59.264Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"MJsRuToU-PABByelAAAR","timestamp":"2025-08-21T00:34:01.595Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"8ac95374-1a93-45ab-8500-b4782a6794c2","timestamp":"2025-08-21T00:34:01.598Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T00:34:01.598Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T01:01:45.841Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"wzzvdGvXbWfBTQShAAAT","timestamp":"2025-08-21T01:01:48.631Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"329ddc69-8122-40cc-8719-c5a82d8ba0f4","timestamp":"2025-08-21T01:01:48.634Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T01:01:48.634Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T02:35:24.588Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"RT3d3DPm8t8mS1zBAAAV","timestamp":"2025-08-21T02:35:26.128Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"49d89141-88a2-478f-a439-835437e5e2c3","timestamp":"2025-08-21T02:35:26.129Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T02:35:26.129Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T03:42:31.224Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"dKL3iE1MCDW0MGBIAAAX","timestamp":"2025-08-21T03:42:32.374Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"bfe5d849-6ad0-4420-ac73-4524dcc1bf66","timestamp":"2025-08-21T03:42:32.374Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T03:42:32.374Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T04:24:57.533Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"5EhDX7PBrQbZ7eVtAAAZ","timestamp":"2025-08-21T04:25:00.448Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"11b99f59-52a7-42de-9711-5ea195ea8749","timestamp":"2025-08-21T04:25:00.448Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T04:25:00.449Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T05:40:35.765Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"_aZ-oJw_qalWNkyhAAAb","timestamp":"2025-08-21T05:40:37.770Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"70e731ad-855a-44f2-abab-f3b99a265c60","timestamp":"2025-08-21T05:40:37.771Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T05:40:37.771Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T09:45:41.027Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"tW-YdZdsrCqmLE2ZAAAd","timestamp":"2025-08-21T09:45:42.158Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"fc063d23-df89-484c-80df-bc1c54da1ba2","timestamp":"2025-08-21T09:45:42.159Z"}[39m
[34m{"eventTypes":["voice:command","analysis:started","compliance:check"],"level":"debug","message":"Subscription confirmed","room":"global","service":"ikas-ai-gateway","timestamp":"2025-08-21T09:45:42.159Z"}[39m
[33m{"level":"warn","message":"Disconnected from WebSocket server","reason":"ping timeout","reconnectAttempts":0,"service":"ikas-ai-gateway","timestamp":"2025-08-21T23:13:06.573Z"}[39m
[32m{"level":"info","message":"Connected to WebSocket server","service":"ikas-ai-gateway","socketId":"Nkxo-LBEfBPGRsYgAAAf","timestamp":"2025-08-21T23:13:08.979Z"}[39m
[32m{"level":"info","message":"WebSocket session established Willkommen bei IKAS! Verbindung erfolgreich hergestellt.","service":"ikas-ai-gateway","sessionId":"0f8e735a-c987-4037-a2f7-239d965bc9bd","timestamp":"2025-08-21T23:13:09.138Z"}[39m
2025-08-23 14:55:02.838 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:55:02.840 [INFO]  Orchestrator initialized
2025-08-23 14:55:02.842 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 14:55:02.842 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 14:55:02.855 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-23 14:55:05.221 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-23 14:55:07.602 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-23 14:55:12.607 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-23 14:55:17.612 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-23 14:55:22.616 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-23 14:55:27.621 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-23 14:55:32.625 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 8,
  "maxAttempts": 10
}
2025-08-23 14:55:37.629 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 9,
  "maxAttempts": 10
}
2025-08-23 14:55:42.633 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 10,
  "maxAttempts": 10
}
2025-08-23 14:55:42.633 [ERROR]  Failed to connect WebSocket client
{
  "error": "Failed to connect after 10 attempts"
}
2025-08-23 14:55:47.640 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 11,
  "maxAttempts": 10
}
2025-08-23 14:58:20.582 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:58:20.583 [INFO]  Orchestrator initialized
2025-08-23 14:58:20.586 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 14:58:20.586 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 14:58:20.597 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-23 14:58:22.524 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-23 14:58:27.528 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-23 14:58:32.534 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-23 14:58:37.542 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-23 14:58:42.549 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-23 14:58:47.557 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-23 14:58:52.563 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 8,
  "maxAttempts": 10
}
2025-08-23 14:58:57.571 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 9,
  "maxAttempts": 10
}
2025-08-23 14:59:02.578 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 10,
  "maxAttempts": 10
}
2025-08-23 14:59:02.579 [ERROR]  Failed to connect WebSocket client
{
  "error": "Failed to connect after 10 attempts"
}
2025-08-23 14:59:07.585 [ERROR]  WebSocket connection error
{
  "error": "xhr poll error",
  "attempts": 11,
  "maxAttempts": 10
}
2025-08-23 15:06:12.001 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 15:27:08.151 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 15:27:08.153 [INFO]  Orchestrator initialized
2025-08-23 15:27:08.155 [INFO]  IKAS AI Gateway started
{
  "port": 8000,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 15:27:08.155 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 15:27:08.178 [INFO]  Connected to WebSocket server
{
  "socketId": "yZfaW4FLdErU11U-AAAF"
}
2025-08-23 15:27:08.179 [INFO]  WebSocket client connected successfully
2025-08-23 15:27:08.179 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "47d50cb7-3217-4361-9f27-4c0c0df074fb"
}
2025-08-23 15:27:08.180 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 15:27:45.152 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:27:45.159 [WARN]  Invalid chat request
{
  "errors": [
    {
      "code": "invalid_type",
      "expected": "string",
      "received": "undefined",
      "path": [
        "message"
      ],
      "message": "Required"
    }
  ]
}
2025-08-23 15:27:45.160 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 400,
  "duration": "1ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:27:47.164 [WARN]  Invalid chat request
{
  "errors": [
    {
      "code": "invalid_type",
      "expected": "string",
      "received": "undefined",
      "path": [
        "message"
      ],
      "message": "Required"
    }
  ]
}
2025-08-23 15:27:47.165 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 400,
  "duration": "1ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:27:49.169 [WARN]  Invalid chat request
{
  "errors": [
    {
      "code": "invalid_type",
      "expected": "string",
      "received": "undefined",
      "path": [
        "message"
      ],
      "message": "Required"
    }
  ]
}
2025-08-23 15:27:49.169 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 400,
  "duration": "0ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:28:05.748 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:28:05.751 [INFO]  Chat request received
{
  "sessionId": "test-session-1",
  "messageLength": 44,
  "realm": "master"
}
2025-08-23 15:28:05.754 [INFO] [483f6274] 🎯 Starting orchestration request
{
  "sessionId": "test-session-1",
  "userInput": "Liste alle Benutzer aus dem master Realm auf",
  "inputLength": 44,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "de"
  }
}
2025-08-23 15:28:05.754 [DEBUG]  Determining execution strategy
{
  "userInput": "Liste alle Benutzer aus dem master Realm auf",
  "inputLength": 44,
  "realm": "master"
}
2025-08-23 15:28:05.755 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 15:28:05.755 [INFO] [483f6274] 📋 Strategy determined
{
  "sessionId": "test-session-1",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 15:28:05.755 [INFO]  Discovering MCP tools from servers
2025-08-23 15:28:05.755 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 15:28:05.755 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 15:28:05.755 [DEBUG]  Listing tools for keycloak
2025-08-23 15:28:05.755 [DEBUG]  Listing tools for neo4j
2025-08-23 15:28:05.755 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 15:28:05.755 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 15:28:05.758 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 15:28:05.758 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 15:28:05.758 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 15:28:05.758 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 15:28:05.758 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 15:28:05.758 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 15:28:05.760 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 15:28:05.760 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 15:28:05.760 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 15:28:05.761 [INFO] [483f6274] 🛠️ Tools selected for request
{
  "sessionId": "test-session-1",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "keycloak_create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "keycloak_list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "keycloak_delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "keycloak_get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "keycloak_list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "keycloak_list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "keycloak_get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "keycloak_get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "neo4j_get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "neo4j_read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "neo4j_write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 15:28:05.761 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 15:28:05.761 [INFO] [483f6274] 🧠 Sending request to Gemini Liste alle Benutzer aus dem master Realm auf
{
  "sessionId": "test-session-1",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "de"
  }
}
2025-08-23 15:28:05.923 [INFO] [483f6274] 🎭 Gemini response received
{
  "sessionId": "test-session-1",
  "hasResponse": true,
  "responseLength": 556,
  "hasFunctionCalls": false,
  "functionCallCount": 0,
  "functionNames": []
}
2025-08-23 15:28:05.923 [INFO] [483f6274] 📊 Data aggregation completed
{
  "sessionId": "test-session-1",
  "totalIterations": 0,
  "toolResultsCount": 0,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 0,
  "dataTypes": []
}
2025-08-23 15:28:05.923 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 0
}
2025-08-23 15:28:05.923 [INFO] [483f6274] ✅ Orchestration request completed successfully
{
  "sessionId": "test-session-1",
  "duration": "169ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 0,
  "finalResponseLength": 556,
  "dataKeys": [],
  "success": true
}
2025-08-23 15:28:05.923 [INFO]  Chat request processed
{
  "sessionId": "test-session-1",
  "success": true,
  "duration": "169ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 15:28:05.924 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "173ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:28:07.929 [INFO]  Chat request received
{
  "sessionId": "test-session-2",
  "messageLength": 33,
  "realm": "master"
}
2025-08-23 15:28:07.937 [INFO] [e88799e0] 🎯 Starting orchestration request
{
  "sessionId": "test-session-2",
  "userInput": "Create a user with malformed data",
  "inputLength": 33,
  "realm": "master",
  "context": {
    "realm": "master"
  }
}
2025-08-23 15:28:07.937 [DEBUG]  Determining execution strategy
{
  "userInput": "Create a user with malformed data",
  "inputLength": 33,
  "realm": "master"
}
2025-08-23 15:28:07.937 [INFO]  Detected write operation, using KEYCLOAK_WRITE_THEN_SYNC strategy
2025-08-23 15:28:07.937 [INFO] [e88799e0] 📋 Strategy determined
{
  "sessionId": "test-session-2",
  "strategy": "keycloak_write_then_sync",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 15:28:07.937 [DEBUG]  Returning cached MCP tools
2025-08-23 15:28:07.937 [INFO] [e88799e0] 🛠️ Tools selected for request
{
  "sessionId": "test-session-2",
  "strategy": "keycloak_write_then_sync",
  "intent": "write",
  "toolCount": 3,
  "availableTools": [
    {
      "name": "keycloak_create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "keycloak_delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "neo4j_write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 15:28:07.938 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master"
}
2025-08-23 15:28:07.938 [INFO] [e88799e0] 🧠 Sending request to Gemini Create a user with malformed data
{
  "sessionId": "test-session-2",
  "toolCount": 3,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 15:28:07.976 [INFO] [e88799e0] 🎭 Gemini response received
{
  "sessionId": "test-session-2",
  "hasResponse": true,
  "responseLength": 556,
  "hasFunctionCalls": false,
  "functionCallCount": 0,
  "functionNames": []
}
2025-08-23 15:28:07.976 [INFO] [e88799e0] 📊 Data aggregation completed
{
  "sessionId": "test-session-2",
  "totalIterations": 0,
  "toolResultsCount": 0,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 0,
  "dataTypes": []
}
2025-08-23 15:28:07.976 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master",
  "toolsCalledCount": 0
}
2025-08-23 15:28:07.976 [INFO] [e88799e0] ✅ Orchestration request completed successfully
{
  "sessionId": "test-session-2",
  "duration": "39ms",
  "strategy": "keycloak_write_then_sync",
  "toolsCalledCount": 0,
  "finalResponseLength": 556,
  "dataKeys": [],
  "success": true
}
2025-08-23 15:28:07.976 [INFO]  Chat request processed
{
  "sessionId": "test-session-2",
  "success": true,
  "duration": "39ms",
  "toolsUsed": 0,
  "strategy": "keycloak_write_then_sync"
}
2025-08-23 15:28:07.977 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "48ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 15:28:09.983 [INFO]  Chat request received
{
  "sessionId": "test-session-3",
  "messageLength": 63,
  "realm": "master"
}
2025-08-23 15:28:09.990 [INFO] [4b5afac6] 🎯 Starting orchestration request
{
  "sessionId": "test-session-3",
  "userInput": "Analysiere die Benutzer-Compliance und synchronisiere mit Neo4j",
  "inputLength": 63,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "de"
  }
}
2025-08-23 15:28:09.991 [DEBUG]  Determining execution strategy
{
  "userInput": "Analysiere die Benutzer-Compliance und synchronisiere mit Neo4j",
  "inputLength": 63,
  "realm": "master"
}
2025-08-23 15:28:09.992 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/read_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 15:28:10.231 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/read_neo4j_cypher"
}
2025-08-23 15:28:10.233 [ERROR]  Error checking graph data freshness
{
  "realm": "master",
  "error": "Cannot read properties of undefined (reading '0')"
}
2025-08-23 15:28:10.233 [INFO]  Analysis requested but data is stale, using SYNC_THEN_ANALYZE strategy
{}
2025-08-23 15:28:10.233 [INFO] [4b5afac6] 📋 Strategy determined
{
  "sessionId": "test-session-3",
  "strategy": "sync_then_analyze",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 15:28:10.233 [DEBUG]  Returning cached MCP tools
2025-08-23 15:28:10.233 [INFO] [4b5afac6] 🛠️ Tools selected for request
{
  "sessionId": "test-session-3",
  "strategy": "sync_then_analyze",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "keycloak_create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "keycloak_list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "keycloak_delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "keycloak_get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "keycloak_list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "keycloak_list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "keycloak_get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "keycloak_get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "neo4j_get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "neo4j_read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "neo4j_write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 15:28:10.234 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "sync_then_analyze",
  "realm": "master"
}
2025-08-23 15:28:10.234 [INFO] [4b5afac6] 🧠 Sending request to Gemini Analysiere die Benutzer-Compliance und synchronisiere mit Neo4j
{
  "sessionId": "test-session-3",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "de"
  }
}
2025-08-23 15:28:10.273 [INFO] [4b5afac6] 🎭 Gemini response received
{
  "sessionId": "test-session-3",
  "hasResponse": true,
  "responseLength": 556,
  "hasFunctionCalls": false,
  "functionCallCount": 0,
  "functionNames": []
}
2025-08-23 15:28:10.274 [INFO] [4b5afac6] 📊 Data aggregation completed
{
  "sessionId": "test-session-3",
  "totalIterations": 0,
  "toolResultsCount": 0,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 0,
  "dataTypes": []
}
2025-08-23 15:28:10.274 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "sync_then_analyze",
  "realm": "master",
  "toolsCalledCount": 0
}
2025-08-23 15:28:10.274 [INFO] [4b5afac6] ✅ Orchestration request completed successfully
{
  "sessionId": "test-session-3",
  "duration": "284ms",
  "strategy": "sync_then_analyze",
  "toolsCalledCount": 0,
  "finalResponseLength": 556,
  "dataKeys": [],
  "success": true
}
2025-08-23 15:28:10.274 [INFO]  Chat request processed
{
  "sessionId": "test-session-3",
  "success": true,
  "duration": "284ms",
  "toolsUsed": 0,
  "strategy": "sync_then_analyze"
}
2025-08-23 15:28:10.275 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "292ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 13:35:04.457 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:35:04.459 [INFO]  Orchestrator initialized
2025-08-23 13:35:04.462 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:35:04.463 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:35:04.482 [INFO]  Connected to WebSocket server
{
  "socketId": "_kS8Atj12w8a0GOZAAAH"
}
2025-08-23 13:35:04.483 [INFO]  WebSocket client connected successfully
2025-08-23 13:35:04.483 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "1075050c-6670-4291-99c7-7dfb475e2b03"
}
2025-08-23 13:35:04.483 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:35:09.037 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "13ms",
  "userAgent": "Wget"
}
2025-08-23 13:35:12.838 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "curl/8.7.1"
}
2025-08-23 13:35:24.032 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:35:24.279 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:35:24.280 [INFO]  Orchestrator initialized
2025-08-23 13:35:24.284 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:35:24.284 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:35:24.301 [INFO]  Connected to WebSocket server
{
  "socketId": "_yhIFVA294hG0qCIAAAJ"
}
2025-08-23 13:35:24.302 [INFO]  WebSocket client connected successfully
2025-08-23 13:35:24.302 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "f8c4a9fe-a5eb-4b6c-b3cf-8fa9f9eecc47"
}
2025-08-23 13:35:24.302 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:35:48.298 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "13ms",
  "userAgent": "curl/8.7.1"
}
2025-08-23 13:35:54.607 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:35:54.854 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:35:54.855 [INFO]  Orchestrator initialized
2025-08-23 13:35:54.859 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:35:54.859 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:35:54.877 [INFO]  Connected to WebSocket server
{
  "socketId": "8m43JVG6NcHVd_mRAAAL"
}
2025-08-23 13:35:54.878 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "833f8f3e-9fde-4eca-b3b2-6211915d1405"
}
2025-08-23 13:35:54.878 [INFO]  WebSocket client connected successfully
2025-08-23 13:35:54.879 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:35:59.407 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:40:29.287 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:40:29.288 [INFO]  Orchestrator initialized
2025-08-23 13:40:29.292 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:40:29.293 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:40:29.311 [INFO]  Connected to WebSocket server
{
  "socketId": "dHP089FF_Ob3w66vAAAB"
}
2025-08-23 13:40:29.312 [INFO]  WebSocket client connected successfully
2025-08-23 13:40:29.312 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "df352001-c63b-44b1-9847-e38152773a7b"
}
2025-08-23 13:40:29.312 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:40:33.959 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "14ms",
  "userAgent": "Wget"
}
2025-08-23 13:40:53.837 [DEBUG]  Received WebSocket event
{
  "eventId": "2d7b18ea-e4b8-44db-bd5b-16f9e7b432ff",
  "eventType": "voice:command",
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4"
}
2025-08-23 13:40:53.838 [INFO]  Processing voice command
{
  "command": "sync initial system data",
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "confidence": 1
}
2025-08-23 13:40:53.850 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:40:53.851 [INFO]  Orchestrator initialized
2025-08-23 13:40:53.852 [INFO] [0f6902e1] 🎯 Starting orchestration request
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "userInput": "sync initial system data",
  "inputLength": 24,
  "context": {
    "source": "voice",
    "confidence": 1,
    "language": "de-DE"
  }
}
2025-08-23 13:40:53.852 [DEBUG]  Determining execution strategy
{
  "userInput": "sync initial system data",
  "inputLength": 24
}
2025-08-23 13:40:53.852 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 13:40:53.853 [INFO] [0f6902e1] 📋 Strategy determined
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 13:40:53.853 [INFO]  Discovering MCP tools from servers
2025-08-23 13:40:53.853 [INFO]  Keycloak MCP client initialized
{
  "url": "http://keycloak-mcp:8001"
}
2025-08-23 13:40:53.854 [INFO]  Neo4j MCP client initialized
{
  "url": "http://neo4j-mcp:8002"
}
2025-08-23 13:40:53.854 [DEBUG]  Listing tools for keycloak
2025-08-23 13:40:53.854 [DEBUG]  Listing tools for neo4j
2025-08-23 13:40:53.855 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 13:40:53.855 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-23 13:40:53.860 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 13:40:53.860 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 13:40:53.861 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 13:40:53.861 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 13:40:53.862 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 13:40:53.862 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-23 13:40:53.865 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 13:40:53.866 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 13:40:53.866 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 13:40:53.868 [INFO] [0f6902e1] 🛠️ Tools selected for request
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "keycloak_create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "keycloak_list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "keycloak_delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "keycloak_get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "keycloak_list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "keycloak_list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "keycloak_get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "keycloak_get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "neo4j_get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "neo4j_read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "neo4j_write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 13:40:53.868 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 13:40:53.869 [INFO] [0f6902e1] 🧠 Sending request to Gemini sync initial system data
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-23 13:40:56.155 [INFO] [0f6902e1] 🎭 Gemini response received
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "hasResponse": true,
  "responseLength": 39,
  "hasFunctionCalls": false,
  "functionCallCount": 0,
  "functionNames": []
}
2025-08-23 13:40:56.156 [INFO] [0f6902e1] 📊 Data aggregation completed
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "totalIterations": 0,
  "toolResultsCount": 0,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 0,
  "dataTypes": []
}
2025-08-23 13:40:56.156 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 0
}
2025-08-23 13:40:56.156 [INFO] [0f6902e1] ✅ Orchestration request completed successfully
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "duration": "2304ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 0,
  "finalResponseLength": 39,
  "dataKeys": [],
  "success": true
}
2025-08-23 13:40:56.157 [DEBUG]  Sent voice response
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "success": true
}
2025-08-23 13:40:56.158 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "hasData": true,
  "dataKeys": [
    "usage",
    "finishReason"
  ],
  "dataCount": 2
}
2025-08-23 13:40:56.158 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-23 13:40:56.158 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-23 13:41:07.751 [DEBUG]  Received WebSocket event
{
  "eventId": "c8cb8670-299b-4d0c-861d-bb8877f64669",
  "eventType": "voice:command",
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4"
}
2025-08-23 13:41:07.752 [INFO]  Processing voice command
{
  "command": "write all users to the database",
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "confidence": 0.9513001441955566
}
2025-08-23 13:41:07.759 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:41:07.760 [INFO]  Orchestrator initialized
2025-08-23 13:41:07.760 [INFO] [fc79541b] 🎯 Starting orchestration request
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "userInput": "write all users to the database",
  "inputLength": 31,
  "context": {
    "source": "voice",
    "confidence": 0.9513001441955566,
    "language": "de-DE"
  }
}
2025-08-23 13:41:07.760 [DEBUG]  Determining execution strategy
{
  "userInput": "write all users to the database",
  "inputLength": 31
}
2025-08-23 13:41:07.761 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 13:41:07.761 [INFO] [fc79541b] 📋 Strategy determined
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 13:41:07.761 [INFO]  Discovering MCP tools from servers
2025-08-23 13:41:07.762 [DEBUG]  Listing tools for keycloak
2025-08-23 13:41:07.762 [DEBUG]  Listing tools for neo4j
2025-08-23 13:41:07.763 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 13:41:07.763 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-23 13:41:07.772 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 13:41:07.773 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 13:41:07.773 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 13:41:07.774 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 13:41:07.774 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 13:41:07.774 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-23 13:41:07.781 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 13:41:07.782 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 13:41:07.782 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 13:41:07.782 [INFO] [fc79541b] 🛠️ Tools selected for request
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "keycloak_create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "keycloak_list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "keycloak_delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "keycloak_get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "keycloak_list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "keycloak_list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "keycloak_get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "keycloak_get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "neo4j_get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "neo4j_read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "neo4j_write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 13:41:07.783 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 13:41:07.783 [INFO] [fc79541b] 🧠 Sending request to Gemini write all users to the database
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-23 13:41:10.169 [INFO] [fc79541b] 🎭 Gemini response received
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "hasResponse": true,
  "responseLength": 39,
  "hasFunctionCalls": false,
  "functionCallCount": 0,
  "functionNames": []
}
2025-08-23 13:41:10.169 [INFO] [fc79541b] 📊 Data aggregation completed
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "totalIterations": 0,
  "toolResultsCount": 0,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 0,
  "dataTypes": []
}
2025-08-23 13:41:10.169 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 0
}
2025-08-23 13:41:10.169 [INFO] [fc79541b] ✅ Orchestration request completed successfully
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "duration": "2409ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 0,
  "finalResponseLength": 39,
  "dataKeys": [],
  "success": true
}
2025-08-23 13:41:10.170 [DEBUG]  Sent voice response
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "success": true
}
2025-08-23 13:41:10.171 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "hasData": true,
  "dataKeys": [
    "usage",
    "finishReason"
  ],
  "dataCount": 2
}
2025-08-23 13:41:10.171 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-23 13:41:10.171 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "a5ba8397-fb60-4f2b-9512-3472323aded4",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-23 13:41:34.007 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 13:42:34.058 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 13:43:34.112 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 13:44:34.164 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 13:45:34.216 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 13:45:56.886 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:45:57.216 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:45:57.217 [INFO]  Orchestrator initialized
2025-08-23 13:45:57.222 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:45:57.222 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:45:57.241 [INFO]  Connected to WebSocket server
{
  "socketId": "3anamLLj4ci3D8rSAAAH"
}
2025-08-23 13:45:57.242 [INFO]  WebSocket client connected successfully
2025-08-23 13:45:57.242 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "b33f6c58-65ac-47af-8334-054659643016"
}
2025-08-23 13:45:57.243 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:46:28.704 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:46:29.003 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:46:29.004 [INFO]  Orchestrator initialized
2025-08-23 13:46:29.008 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:46:29.009 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:46:29.028 [INFO]  Connected to WebSocket server
{
  "socketId": "RwLucUfvdZ9WVv0UAAAJ"
}
2025-08-23 13:46:29.029 [INFO]  WebSocket client connected successfully
2025-08-23 13:46:29.029 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "760d39ae-19de-4219-81e4-9fcfd4f06e45"
}
2025-08-23 13:46:29.029 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:46:34.273 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "13ms",
  "userAgent": "Wget"
}
2025-08-23 13:46:56.469 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:46:56.745 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:46:56.746 [INFO]  Orchestrator initialized
2025-08-23 13:46:56.750 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:46:56.751 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:46:56.768 [INFO]  Connected to WebSocket server
{
  "socketId": "6yhwuOXYQKQIvGpJAAAL"
}
2025-08-23 13:46:56.769 [INFO]  WebSocket client connected successfully
2025-08-23 13:46:56.769 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "ce87b79d-539e-4d07-b24d-ee353e8d028b"
}
2025-08-23 13:46:56.769 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:47:19.366 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:47:25.400 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:47:25.401 [INFO]  Orchestrator initialized
2025-08-23 13:47:25.405 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:47:25.405 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:47:25.423 [INFO]  Connected to WebSocket server
{
  "socketId": "Ga9eE5pLGDsxQMBGAAAN"
}
2025-08-23 13:47:25.424 [INFO]  WebSocket client connected successfully
2025-08-23 13:47:25.424 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "3b03c065-19b2-4848-b027-42ab36a504b0"
}
2025-08-23 13:47:25.425 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:47:34.339 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "14ms",
  "userAgent": "Wget"
}
2025-08-23 13:48:34.380 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 13:49:34.444 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-23 13:50:34.502 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 13:51:34.544 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 13:52:34.603 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 13:53:34.654 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 13:54:34.717 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-23 13:55:34.757 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 13:56:11.512 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:56:11.807 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:56:11.808 [INFO]  Orchestrator initialized
2025-08-23 13:56:11.812 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:56:11.812 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:56:11.831 [INFO]  Connected to WebSocket server
{
  "socketId": "hntA2J_GfxwUYPN_AAAP"
}
2025-08-23 13:56:11.832 [INFO]  WebSocket client connected successfully
2025-08-23 13:56:11.832 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "74f2a657-eddb-45ca-9f14-1cfbf3973b28"
}
2025-08-23 13:56:11.832 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:56:27.371 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:56:27.659 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:56:27.660 [INFO]  Orchestrator initialized
2025-08-23 13:56:27.665 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:56:27.665 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:56:27.681 [INFO]  Connected to WebSocket server
{
  "socketId": "-35srO79Q0cMttdcAAAR"
}
2025-08-23 13:56:27.682 [INFO]  WebSocket client connected successfully
2025-08-23 13:56:27.682 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "ddd819c5-3a3f-41a7-858c-770361293f3f"
}
2025-08-23 13:56:27.682 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:56:34.813 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "12ms",
  "userAgent": "Wget"
}
2025-08-23 13:56:40.865 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:56:41.160 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:56:41.161 [INFO]  Orchestrator initialized
2025-08-23 13:56:41.165 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:56:41.166 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:56:41.184 [INFO]  Connected to WebSocket server
{
  "socketId": "aLSwSJUwRs0h71wkAAAT"
}
2025-08-23 13:56:41.185 [INFO]  WebSocket client connected successfully
2025-08-23 13:56:41.185 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "cb4e571b-9f2b-4abd-85ca-5e82e98a06ac"
}
2025-08-23 13:56:41.185 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:57:34.858 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "Wget"
}
2025-08-23 13:57:44.519 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:57:44.812 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:57:44.813 [INFO]  Orchestrator initialized
2025-08-23 13:57:44.817 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:57:44.817 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:57:44.834 [INFO]  Connected to WebSocket server
{
  "socketId": "aoFBooFAL1_hrbGlAAAX"
}
2025-08-23 13:57:44.834 [INFO]  WebSocket client connected successfully
2025-08-23 13:57:44.835 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "861101be-2f64-4e60-a592-872abb0b6adf"
}
2025-08-23 13:57:44.835 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:57:50.946 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:57:51.232 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:57:51.233 [INFO]  Orchestrator initialized
2025-08-23 13:57:51.238 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:57:51.238 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:57:51.256 [INFO]  Connected to WebSocket server
{
  "socketId": "JjoC_93jQbuk-8CUAAAZ"
}
2025-08-23 13:57:51.257 [INFO]  WebSocket client connected successfully
2025-08-23 13:57:51.257 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "bd4b84ca-b388-4bdf-b2ef-160397fa593b"
}
2025-08-23 13:57:51.257 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:57:58.159 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 13:57:58.462 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 13:57:58.463 [INFO]  Orchestrator initialized
2025-08-23 13:57:58.467 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 13:57:58.467 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 13:57:58.484 [INFO]  Connected to WebSocket server
{
  "socketId": "cYt0f8_8RYupBDnfAAAb"
}
2025-08-23 13:57:58.484 [INFO]  WebSocket client connected successfully
2025-08-23 13:57:58.485 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "eb926517-e799-4182-a552-2ce8ec8bda92"
}
2025-08-23 13:57:58.485 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 13:58:34.901 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Wget"
}
2025-08-23 13:59:34.931 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:00:34.982 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:01:35.033 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:02:35.063 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:03:35.116 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:04:35.165 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:05:35.215 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:06:35.264 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:07:35.318 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:08:35.363 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:09:35.409 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:10:35.459 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:11:35.510 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:11:42.030 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:11:42.318 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:11:42.319 [INFO]  Orchestrator initialized
2025-08-23 14:11:42.323 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:11:42.324 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:11:42.342 [INFO]  Connected to WebSocket server
{
  "socketId": "vPGHbOxuVDEIJyKtAAAf"
}
2025-08-23 14:11:42.343 [INFO]  WebSocket client connected successfully
2025-08-23 14:11:42.343 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "60715a2f-6d8c-450b-87e0-0ad7d4eab0df"
}
2025-08-23 14:11:42.343 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:11:51.230 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:11:51.691 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:11:51.692 [INFO]  Orchestrator initialized
2025-08-23 14:11:51.696 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:11:51.696 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:11:51.715 [INFO]  Connected to WebSocket server
{
  "socketId": "CZbt9KWz9VYseuF4AAAh"
}
2025-08-23 14:11:51.716 [INFO]  WebSocket client connected successfully
2025-08-23 14:11:51.716 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "cfd86ca4-6918-4113-a99a-2968e438e74b"
}
2025-08-23 14:11:51.716 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:12:04.985 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:12:05.302 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:12:05.304 [INFO]  Orchestrator initialized
2025-08-23 14:12:05.308 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:12:05.308 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:12:05.328 [INFO]  Connected to WebSocket server
{
  "socketId": "zdn9jwW6IP0_6VPQAAAj"
}
2025-08-23 14:12:05.328 [INFO]  WebSocket client connected successfully
2025-08-23 14:12:05.329 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "f270659a-5b5d-43e7-83aa-e208c18abd4e"
}
2025-08-23 14:12:05.329 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:12:15.999 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:12:16.293 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:12:16.294 [INFO]  Orchestrator initialized
2025-08-23 14:12:16.298 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:12:16.299 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:12:16.316 [INFO]  Connected to WebSocket server
{
  "socketId": "3J3hoVvkJrYmb3kEAAAl"
}
2025-08-23 14:12:16.317 [INFO]  WebSocket client connected successfully
2025-08-23 14:12:16.318 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "721d55c4-c529-48e4-a96a-657463f1c57d"
}
2025-08-23 14:12:16.318 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:12:21.802 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:12:22.142 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:12:22.143 [INFO]  Orchestrator initialized
2025-08-23 14:12:22.147 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:12:22.148 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:12:22.166 [INFO]  Connected to WebSocket server
{
  "socketId": "szJjIirhp7fuaqIvAAAn"
}
2025-08-23 14:12:22.167 [INFO]  WebSocket client connected successfully
2025-08-23 14:12:22.167 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "ff09726d-c0f1-4649-ab8e-2bc31af2dd50"
}
2025-08-23 14:12:22.168 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:12:28.881 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:12:29.184 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:12:29.185 [INFO]  Orchestrator initialized
2025-08-23 14:12:29.189 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:12:29.190 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:12:29.210 [INFO]  Connected to WebSocket server
{
  "socketId": "grwu6icOS3bYDKj4AAAp"
}
2025-08-23 14:12:29.210 [INFO]  WebSocket client connected successfully
2025-08-23 14:12:29.211 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "106173a3-d0a1-4292-b928-1d2074b4616a"
}
2025-08-23 14:12:29.211 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:12:35.569 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "12ms",
  "userAgent": "Wget"
}
2025-08-23 14:12:52.677 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:12:53.002 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:12:53.003 [INFO]  Orchestrator initialized
2025-08-23 14:12:53.007 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:12:53.008 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:12:53.025 [INFO]  Connected to WebSocket server
{
  "socketId": "MnI6vCVIj3COYiYJAAAr"
}
2025-08-23 14:12:53.025 [INFO]  WebSocket client connected successfully
2025-08-23 14:12:53.026 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "a4617396-6995-4d95-99d7-a0179ff19535"
}
2025-08-23 14:12:53.026 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:13:21.710 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:13:21.999 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:13:22.000 [INFO]  Orchestrator initialized
2025-08-23 14:13:22.004 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:13:22.005 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:13:22.024 [INFO]  Connected to WebSocket server
{
  "socketId": "l8TU2ztY4ehTE4VLAAAt"
}
2025-08-23 14:13:22.024 [INFO]  WebSocket client connected successfully
2025-08-23 14:13:22.025 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "d938f09a-dfa1-49aa-b39f-16b34a13c4e9"
}
2025-08-23 14:13:22.025 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:13:35.612 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-23 14:14:35.660 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:15:35.716 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:16:35.796 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:17:35.837 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:18:35.885 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:19:35.935 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:20:35.987 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:21:36.034 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:22:36.078 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:23:36.112 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:24:36.157 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:25:36.200 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:26:36.251 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:27:36.294 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:28:36.314 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:29:36.353 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:30:36.399 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:31:36.449 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:32:36.499 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:33:36.549 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:34:36.594 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 14:35:36.642 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:36:36.683 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:37:36.731 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:38:36.781 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:39:36.843 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:40:36.891 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:41:36.942 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:42:36.986 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:43:37.039 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:44:37.090 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:45:37.146 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 14:45:46.545 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:45:46.851 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:45:46.852 [INFO]  Orchestrator initialized
2025-08-23 14:45:46.856 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:45:46.856 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:45:46.873 [INFO]  Connected to WebSocket server
{
  "socketId": "FxCBf5jQv15Ht53NAAAx"
}
2025-08-23 14:45:46.874 [INFO]  WebSocket client connected successfully
2025-08-23 14:45:46.874 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "9807276d-b4a9-4a87-9de9-718dde73fff0"
}
2025-08-23 14:45:46.874 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:45:55.830 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:45:56.135 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:45:56.136 [INFO]  Orchestrator initialized
2025-08-23 14:45:56.141 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:45:56.141 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:45:56.160 [INFO]  Connected to WebSocket server
{
  "socketId": "5WyPEstm1IlUXojGAAAz"
}
2025-08-23 14:45:56.161 [INFO]  WebSocket client connected successfully
2025-08-23 14:45:56.161 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "a1c6cb8f-0cc8-4981-a1fe-ea17618d6382"
}
2025-08-23 14:45:56.161 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:01.378 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:01.673 [INFO]  Gemini service initialized
{
  "model": "gemini-2.5-pro",
  "apiConfigured": true
}
2025-08-23 14:46:01.674 [INFO]  Orchestrator initialized
2025-08-23 14:46:01.678 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:01.679 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:01.697 [INFO]  Connected to WebSocket server
{
  "socketId": "6iGvXUxu8cAWyW5vAAA1"
}
2025-08-23 14:46:01.698 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:01.698 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "768b9f63-45fa-45d5-9cbb-308fec2948eb"
}
2025-08-23 14:46:01.698 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:10.075 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:10.377 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:10.378 [INFO]  Orchestrator initialized
2025-08-23 14:46:10.382 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:10.382 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:10.401 [INFO]  Connected to WebSocket server
{
  "socketId": "bopoXcb432eQbnRVAAA3"
}
2025-08-23 14:46:10.402 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:10.402 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "360d6741-cb0f-43b7-b7df-8ab46f0fab18"
}
2025-08-23 14:46:10.402 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:16.768 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:17.071 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:17.072 [INFO]  Orchestrator initialized
2025-08-23 14:46:17.076 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:17.077 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:17.094 [INFO]  Connected to WebSocket server
{
  "socketId": "nKvoBpERMFRAEc8_AAA5"
}
2025-08-23 14:46:17.095 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:17.095 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "d5add2b1-6e4c-4138-8646-1a35cf7b5eeb"
}
2025-08-23 14:46:17.095 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:25.537 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:25.834 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:25.835 [INFO]  Orchestrator initialized
2025-08-23 14:46:25.839 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:25.840 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:25.857 [INFO]  Connected to WebSocket server
{
  "socketId": "pa9KuE0LzzE-08DdAAA7"
}
2025-08-23 14:46:25.858 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:25.858 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "837169d1-7cf5-4f2b-bcca-82e9fd6ec85b"
}
2025-08-23 14:46:25.858 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:31.527 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:31.814 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:31.815 [INFO]  Orchestrator initialized
2025-08-23 14:46:31.819 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:31.820 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:31.838 [INFO]  Connected to WebSocket server
{
  "socketId": "Vl0aUqLjAVbEtbe6AAA9"
}
2025-08-23 14:46:31.838 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:31.838 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "79940a60-1e57-4c85-be38-4c7978f91557"
}
2025-08-23 14:46:31.839 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:37.201 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "12ms",
  "userAgent": "Wget"
}
2025-08-23 14:46:38.409 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:38.717 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:38.718 [INFO]  Orchestrator initialized
2025-08-23 14:46:38.722 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:38.722 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:38.741 [INFO]  Connected to WebSocket server
{
  "socketId": "-4fJA-yWRbqtoD3lAAA_"
}
2025-08-23 14:46:38.742 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:38.742 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "6b0e26dd-38b8-437e-bf0c-53c72279e81e"
}
2025-08-23 14:46:38.742 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:44.793 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:45.087 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:45.088 [INFO]  Orchestrator initialized
2025-08-23 14:46:45.093 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:45.093 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:45.110 [INFO]  Connected to WebSocket server
{
  "socketId": "XJAxLHuiyqVBVJr2AABB"
}
2025-08-23 14:46:45.111 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:45.111 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "c2482421-3a8b-48e1-8f46-8ac47a62b7b5"
}
2025-08-23 14:46:45.111 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:46:55.134 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:46:55.431 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:46:55.432 [INFO]  Orchestrator initialized
2025-08-23 14:46:55.436 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:46:55.436 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:46:55.454 [INFO]  Connected to WebSocket server
{
  "socketId": "XAEpZagWUBZ-DEYTAABD"
}
2025-08-23 14:46:55.455 [INFO]  WebSocket client connected successfully
2025-08-23 14:46:55.455 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "0d081bdd-112a-4eec-bb5e-3aa969ee8c54"
}
2025-08-23 14:46:55.455 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:47:13.356 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:47:13.657 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:47:13.658 [INFO]  Orchestrator initialized
2025-08-23 14:47:13.662 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:47:13.662 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:47:13.680 [INFO]  Connected to WebSocket server
{
  "socketId": "LSaoQ5Uirkw20zMnAABF"
}
2025-08-23 14:47:13.681 [INFO]  WebSocket client connected successfully
2025-08-23 14:47:13.681 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "523a7112-a723-4535-9b93-edbc44e5bd70"
}
2025-08-23 14:47:13.681 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:47:37.245 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "13ms",
  "userAgent": "Wget"
}
2025-08-23 14:48:05.327 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:48:05.640 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:48:05.641 [INFO]  Orchestrator initialized
2025-08-23 14:48:05.645 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:48:05.645 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:48:05.661 [INFO]  Connected to WebSocket server
{
  "socketId": "dmALMcvc6OAB4F3RAABH"
}
2025-08-23 14:48:05.662 [INFO]  WebSocket client connected successfully
2025-08-23 14:48:05.662 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "8d265995-f794-4364-8a7d-d1328f6a3a04"
}
2025-08-23 14:48:05.662 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:48:37.304 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "14ms",
  "userAgent": "Wget"
}
2025-08-23 14:49:37.351 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:49:42.357 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:49:42.654 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:49:42.655 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:49:42.656 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:49:42.660 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:49:42.660 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:49:42.677 [INFO]  Connected to WebSocket server
{
  "socketId": "xsVsRjHADIZcpk1RAABJ"
}
2025-08-23 14:49:42.678 [INFO]  WebSocket client connected successfully
2025-08-23 14:49:42.678 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "90c3e439-52e2-45e2-a285-82fe60623ac0"
}
2025-08-23 14:49:42.678 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:50:01.434 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:50:01.733 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:50:01.735 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:50:01.735 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:50:01.740 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:50:01.740 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:50:01.760 [INFO]  Connected to WebSocket server
{
  "socketId": "ymUhH6sQ8DaagGd9AABL"
}
2025-08-23 14:50:01.761 [INFO]  WebSocket client connected successfully
2025-08-23 14:50:01.761 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "f3463b0f-ba05-489d-a42a-587ee0dbd03e"
}
2025-08-23 14:50:01.761 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:50:27.182 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:50:27.479 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:50:27.481 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:50:27.481 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:50:27.486 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:50:27.486 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:50:27.506 [INFO]  Connected to WebSocket server
{
  "socketId": "hpUxT_g2UZqvOTmMAABN"
}
2025-08-23 14:50:27.507 [INFO]  WebSocket client connected successfully
2025-08-23 14:50:27.507 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "17bc9231-fae4-4ebf-9a0a-d3b8dc1401a9"
}
2025-08-23 14:50:27.507 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:50:32.594 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:50:32.890 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:50:32.891 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:50:32.892 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:50:32.896 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:50:32.896 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:50:32.913 [INFO]  Connected to WebSocket server
{
  "socketId": "eoptWJwaeIZH42_WAABP"
}
2025-08-23 14:50:32.914 [INFO]  WebSocket client connected successfully
2025-08-23 14:50:32.918 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "af43dccf-9dae-4d79-8555-ad4404c49ef4"
}
2025-08-23 14:50:32.918 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:50:37.414 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "14ms",
  "userAgent": "Wget"
}
2025-08-23 14:50:44.715 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:50:45.009 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:50:45.011 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:50:45.011 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:50:45.015 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:50:45.015 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:50:45.035 [INFO]  Connected to WebSocket server
{
  "socketId": "2jeb2IzFA97Dc2QwAABR"
}
2025-08-23 14:50:45.035 [INFO]  WebSocket client connected successfully
2025-08-23 14:50:45.036 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "18947e25-eac0-4337-9940-423024cfc22b"
}
2025-08-23 14:50:45.036 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:51:37.478 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "12ms",
  "userAgent": "Wget"
}
2025-08-23 14:52:37.529 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:52:41.634 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:52:41.921 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:52:41.922 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:52:41.923 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:52:41.927 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:52:41.927 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:52:41.944 [INFO]  Connected to WebSocket server
{
  "socketId": "dstRpGU-Lt12E5f8AABT"
}
2025-08-23 14:52:41.944 [INFO]  WebSocket client connected successfully
2025-08-23 14:52:41.944 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "7301ba26-88cf-4074-93a7-932275241fe1"
}
2025-08-23 14:52:41.945 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:53:05.439 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:53:05.729 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:53:05.731 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:53:05.731 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:53:05.735 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:53:05.736 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:53:05.751 [INFO]  Connected to WebSocket server
{
  "socketId": "4cxxjrtwaGEvbPQnAABV"
}
2025-08-23 14:53:05.751 [INFO]  WebSocket client connected successfully
2025-08-23 14:53:05.752 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "474ca67b-d030-47df-a877-56399f2532c4"
}
2025-08-23 14:53:05.752 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:53:15.396 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:53:15.690 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:53:15.691 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:53:15.691 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:53:15.696 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:53:15.696 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:53:15.713 [INFO]  Connected to WebSocket server
{
  "socketId": "XPKxWWqAxfVmwU55AABX"
}
2025-08-23 14:53:15.714 [INFO]  WebSocket client connected successfully
2025-08-23 14:53:15.714 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "5cab0d6f-ec90-4430-b55c-0957fc3f7b9d"
}
2025-08-23 14:53:15.714 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:53:36.024 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:53:36.323 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:53:36.324 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:53:36.325 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:53:36.329 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:53:36.329 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:53:36.347 [INFO]  Connected to WebSocket server
{
  "socketId": "fyJc8-LSEODvgAwkAABZ"
}
2025-08-23 14:53:36.347 [INFO]  WebSocket client connected successfully
2025-08-23 14:53:36.347 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "3f88ef4d-4bc3-4b63-9ced-cb0f39021eae"
}
2025-08-23 14:53:36.348 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:53:37.603 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "14ms",
  "userAgent": "Wget"
}
2025-08-23 14:53:40.160 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:53:40.457 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:53:40.458 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:53:40.458 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:53:40.462 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:53:40.463 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:53:40.480 [INFO]  Connected to WebSocket server
{
  "socketId": "_ZTcTapkbNzwIrnRAABb"
}
2025-08-23 14:53:40.480 [INFO]  WebSocket client connected successfully
2025-08-23 14:53:40.480 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "23da64d7-51a8-4fcd-bd9a-7964a80e977f"
}
2025-08-23 14:53:40.481 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:53:48.993 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:53:49.283 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:53:49.285 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:53:49.285 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:53:49.289 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:53:49.290 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:53:49.308 [INFO]  Connected to WebSocket server
{
  "socketId": "IAw7i5yWdW6KVDWiAABd"
}
2025-08-23 14:53:49.309 [INFO]  WebSocket client connected successfully
2025-08-23 14:53:49.309 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "87104a2e-e5d2-4f74-970a-618a727d8596"
}
2025-08-23 14:53:49.309 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:53:56.465 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:53:56.763 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:53:56.764 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:53:56.764 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:53:56.769 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:53:56.769 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:53:56.787 [INFO]  Connected to WebSocket server
{
  "socketId": "9qE2Xm5CgcFVjEq2AABf"
}
2025-08-23 14:53:56.787 [INFO]  WebSocket client connected successfully
2025-08-23 14:53:56.788 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "0e4c7e7b-ddba-4bf4-8269-1d363832f4c2"
}
2025-08-23 14:53:56.788 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:54:05.191 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:54:05.466 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:54:05.468 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:54:05.468 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:54:05.472 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:54:05.472 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:54:05.487 [INFO]  Connected to WebSocket server
{
  "socketId": "G0VpxK0aAJGR4ez2AABh"
}
2025-08-23 14:54:05.488 [INFO]  WebSocket client connected successfully
2025-08-23 14:54:05.489 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "14476bab-0376-4696-9039-df3d7c4e8b32"
}
2025-08-23 14:54:05.491 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:54:11.053 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:54:11.318 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:54:11.319 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:54:11.320 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:54:11.324 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:54:11.324 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:54:11.344 [INFO]  Connected to WebSocket server
{
  "socketId": "tSjtjxCD9W0g8E0WAABj"
}
2025-08-23 14:54:11.344 [INFO]  WebSocket client connected successfully
2025-08-23 14:54:11.345 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "26656dfd-f668-4363-86f1-d4bd560120fd"
}
2025-08-23 14:54:11.345 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:54:23.417 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:54:23.703 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:54:23.704 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:54:23.705 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:54:23.709 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:54:23.709 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:54:23.726 [INFO]  Connected to WebSocket server
{
  "socketId": "7NWpVOanULaCN_KsAABl"
}
2025-08-23 14:54:23.727 [INFO]  WebSocket client connected successfully
2025-08-23 14:54:23.727 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "1b0847ca-92ef-4f21-8a4d-cdd043b87113"
}
2025-08-23 14:54:23.727 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:54:28.950 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:54:29.241 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:54:29.243 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:54:29.243 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:54:29.247 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:54:29.248 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:54:29.264 [INFO]  Connected to WebSocket server
{
  "socketId": "jH9nmYfA1ve7NziIAABn"
}
2025-08-23 14:54:29.265 [INFO]  WebSocket client connected successfully
2025-08-23 14:54:29.265 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "66b689b6-9d50-4b45-9b05-e7bbb89873c3"
}
2025-08-23 14:54:29.265 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:54:34.755 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:54:35.043 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:54:35.045 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:54:35.045 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:54:35.049 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:54:35.050 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:54:35.066 [INFO]  Connected to WebSocket server
{
  "socketId": "MB6YokQjohqkyACyAABp"
}
2025-08-23 14:54:35.067 [INFO]  WebSocket client connected successfully
2025-08-23 14:54:35.067 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "0939e936-596d-4581-ad1b-b89b0441871d"
}
2025-08-23 14:54:35.067 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:54:37.672 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "13ms",
  "userAgent": "Wget"
}
2025-08-23 14:54:53.670 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:54:53.966 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:54:53.967 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:54:53.967 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:54:53.972 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:54:53.972 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:54:53.992 [INFO]  Connected to WebSocket server
{
  "socketId": "vZFUrEBGKIkCPBhYAABr"
}
2025-08-23 14:54:53.992 [INFO]  WebSocket client connected successfully
2025-08-23 14:54:53.993 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "72e68519-19c8-40b3-9f27-b2c36d66b41d"
}
2025-08-23 14:54:53.993 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:55:31.338 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:55:31.628 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:55:31.629 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:55:31.630 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:55:31.634 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:55:31.634 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:55:31.652 [INFO]  Connected to WebSocket server
{
  "socketId": "1xDJt1N5slYmdp9DAABt"
}
2025-08-23 14:55:31.653 [INFO]  WebSocket client connected successfully
2025-08-23 14:55:31.653 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "64f0f4b8-9673-4c80-956a-385cecdec038"
}
2025-08-23 14:55:31.653 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:55:37.711 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-23 14:55:42.790 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:55:43.087 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:55:43.088 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:55:43.088 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:55:43.092 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:55:43.093 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:55:43.108 [INFO]  Connected to WebSocket server
{
  "socketId": "ZA2g11ewoRhYr7_hAABv"
}
2025-08-23 14:55:43.108 [INFO]  WebSocket client connected successfully
2025-08-23 14:55:43.109 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "78a468c6-08b4-4666-8ceb-63221c56c488"
}
2025-08-23 14:55:43.109 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:55:47.128 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:55:47.423 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:55:47.424 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:55:47.424 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:55:47.429 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:55:47.429 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:55:47.445 [INFO]  Connected to WebSocket server
{
  "socketId": "FBVIZQHei21Qv5EzAABx"
}
2025-08-23 14:55:47.446 [INFO]  WebSocket client connected successfully
2025-08-23 14:55:47.446 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "2323b4c7-098f-4095-b4f3-fd958217fbd4"
}
2025-08-23 14:55:47.446 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:56:14.580 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 14:56:14.870 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-23 14:56:14.872 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-23 14:56:14.872 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-23 14:56:14.876 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-23 14:56:14.877 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-23 14:56:14.896 [INFO]  Connected to WebSocket server
{
  "socketId": "qZVEuGSUbWSGVsqIAABz"
}
2025-08-23 14:56:14.896 [INFO]  WebSocket client connected successfully
2025-08-23 14:56:14.897 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "889f3ff7-ac37-460e-a1fb-415ffe862b45"
}
2025-08-23 14:56:14.897 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 14:56:37.781 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "12ms",
  "userAgent": "Wget"
}
2025-08-23 14:57:37.842 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 14:58:37.878 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 14:59:37.932 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 15:00:37.977 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 15:01:38.032 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:02:38.080 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:03:38.129 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:04:38.182 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:05:38.228 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-23 15:06:38.285 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:07:38.333 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:08:38.373 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:09:38.420 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:10:38.448 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 15:11:38.509 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:12:38.550 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:13:38.603 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:14:38.650 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:15:38.702 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:16:38.757 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:17:38.802 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:18:38.847 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:19:38.896 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:20:38.948 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:21:39.005 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:22:39.065 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:23:39.120 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:24:39.163 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:25:39.208 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:26:39.263 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:27:39.302 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:28:39.357 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:29:39.405 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:30:39.442 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:31:39.501 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:32:39.554 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:33:39.602 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:34:39.656 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:35:39.697 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:36:39.746 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:37:39.799 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:38:39.843 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:39:39.899 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:40:39.948 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:41:39.992 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:42:40.038 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:43:40.087 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:44:40.134 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:45:40.188 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:46:40.247 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:47:40.307 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:48:40.332 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 15:49:40.387 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:50:40.439 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:51:40.502 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:52:40.555 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:53:40.605 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:54:40.661 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:55:40.722 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:56:40.772 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 15:57:40.829 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 15:58:40.885 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 15:59:40.940 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:00:40.986 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:01:41.042 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:02:41.099 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:03:41.148 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:04:41.197 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:05:41.245 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:06:41.275 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 16:07:41.332 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:08:41.387 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:09:41.436 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:10:41.469 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:11:41.524 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:12:41.592 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:13:41.633 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:14:41.677 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:15:41.721 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:16:41.776 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:17:41.828 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:18:41.888 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:19:41.940 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:20:41.988 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:21:42.041 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 16:22:42.090 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:23:42.115 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 16:24:42.133 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:25:42.182 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:26:42.229 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:27:42.274 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:28:42.328 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:29:42.394 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:30:42.452 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:31:42.500 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 16:32:42.552 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:33:42.608 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 16:34:42.668 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 16:35:42.715 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:36:42.776 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:37:42.828 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:38:42.867 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:39:42.906 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:40:42.950 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:41:43.001 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 16:42:43.045 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 16:43:43.098 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:01:57.040 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:18:46.265 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:34:45.681 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:44:02.715 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:45:02.756 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:46:02.801 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:47:02.853 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 17:48:02.905 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:49:02.958 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:50:03.006 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:51:03.049 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:52:03.101 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 17:53:03.154 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 17:54:03.182 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "1ms",
  "userAgent": "Wget"
}
2025-08-23 17:55:03.227 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:56:03.282 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:57:03.338 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 17:58:03.387 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 17:59:03.428 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 18:00:03.477 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:01:03.523 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:02:03.575 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:03:03.623 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:04:03.674 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:05:03.729 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:06:03.766 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 18:07:03.817 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:08:03.848 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:09:03.893 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:10:03.938 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:11:03.989 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:12:04.023 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:13:04.069 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 18:14:04.115 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:15:04.163 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:15:18.811 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "apiKeyPresent": true
}
2025-08-23 18:16:04.214 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:17:04.273 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:18:04.327 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:19:04.381 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:20:04.428 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:21:04.469 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:22:04.517 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:23:04.564 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:23:42.636 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "previousProvider": null
}
2025-08-23 20:23:42.638 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "apiKeyPresent": true
}
2025-08-23 18:24:04.620 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:24:31.127 [DEBUG]  LLM Factory reset
2025-08-23 20:24:31.129 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "apiKeyPresent": true
}
2025-08-23 20:24:31.130 [DEBUG] [85bfcab0] Sending chat request to Anthropic
{
  "sessionId": "test-session-anthropic-direct",
  "model": "claude-3-sonnet-20240229",
  "messageLength": 165,
  "toolsCount": 3,
  "historyLength": 1
}
2025-08-23 20:24:31.318 [ERROR] [85bfcab0] Anthropic chat request failed
{
  "sessionId": "test-session-anthropic-direct",
  "duration": 188,
  "error": "401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"},\"request_id\":\"req_011CSR7KLJQpwuVNXPRWbBcH\"}"
}
2025-08-23 18:25:04.673 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:26:04.720 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
240229",
  "apiKeyPresent": true
}
2025-08-23 20:24:45.477 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-sonnet-20240229"
}
2025-08-23 20:24:45.479 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 20:24:45.479 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 20:24:45.501 [INFO]  Connected to WebSocket server
{
  "socketId": "Z-j6_KdK4kopcseqAAB3"
}
2025-08-23 20:24:45.501 [INFO]  WebSocket client connected successfully
2025-08-23 20:24:45.506 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "cc234626-fb72-47f9-85d0-ef45ba66759e"
}
2025-08-23 20:24:45.506 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 20:25:16.368 [INFO]  Chat request received
{
  "sessionId": "comparison-test-1755973516352",
  "messageLength": 28,
  "realm": "master"
}
2025-08-23 20:25:16.377 [INFO] [c6648542] 🎯 Starting orchestration request
{
  "sessionId": "comparison-test-1755973516352",
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en"
  }
}
2025-08-23 20:25:16.377 [DEBUG]  Determining execution strategy
{
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master"
}
2025-08-23 20:25:16.377 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:25:16.378 [INFO] [c6648542] 📋 Strategy determined
{
  "sessionId": "comparison-test-1755973516352",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:25:16.378 [INFO]  Discovering MCP tools from servers
2025-08-23 20:25:16.378 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 20:25:16.378 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 20:25:16.378 [DEBUG]  Listing tools for keycloak
2025-08-23 20:25:16.378 [DEBUG]  Listing tools for neo4j
2025-08-23 20:25:16.378 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:25:16.378 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:25:16.380 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:25:16.380 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 20:25:16.380 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:25:16.380 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 20:25:16.381 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:25:16.381 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:25:16.382 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:25:16.383 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:25:16.383 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 20:25:16.383 [INFO] [c6648542] 🛠️ Tools selected for request
{
  "sessionId": "comparison-test-1755973516352",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:25:16.383 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:25:16.383 [INFO] [c6648542] 🧠 Sending request to Gemini write all users to the graph
{
  "sessionId": "comparison-test-1755973516352",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:25:16.383 [DEBUG] [2a6cc4bf] Sending chat request to Anthropic
{
  "sessionId": "comparison-test-1755973516352",
  "model": "claude-3-sonnet-20240229",
  "messageLength": 44,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:25:16.572 [ERROR] [2a6cc4bf] Anthropic chat request failed
{
  "sessionId": "comparison-test-1755973516352",
  "duration": 189,
  "error": "401 {\"type\":\"error\",\"error\":{\"type\":\"authentication_error\",\"message\":\"invalid x-api-key\"},\"request_id\":\"req_011CSR7NfnmAZbsYUknBaCKL\"}"
}
2025-08-23 20:25:16.577 [ERROR] [c6648542] ❌ Orchestration request failed
{
  "sessionId": "comparison-test-1755973516352",
  "userInput": "write all users to the graph",
  "duration": "196ms",
  "error": "Authentication failed for anthropic",
  "stack": "LLMError: Authentication failed for anthropic\n    at AnthropicService.chat (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/llm/anthropic-service.ts:174:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Orchestrator.processRequest (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/orchestration/orchestrator.ts:122:27)\n    at async <anonymous> (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/api/orchestration.ts:100:22)",
  "context": {
    "realm": "master",
    "preferredLanguage": "en"
  }
}
2025-08-23 20:25:16.577 [INFO]  Chat request processed
{
  "sessionId": "comparison-test-1755973516352",
  "success": false,
  "duration": "196ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:25:16.580 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "212ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:26:41.621 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 18:27:04.774 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:28:04.826 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:29:04.863 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 18:30:04.905 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:31:04.952 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:32:04.998 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:33:05.057 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 18:34:05.114 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:35:05.158 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 18:36:05.203 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:37:05.250 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:38:05.297 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 18:39:05.351 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:40:05.412 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:41:05.464 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:42:05.506 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 18:43:05.562 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:43:24.291 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "previousProvider": null
}
2025-08-23 20:43:24.293 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "apiKeyPresent": true
}
2025-08-23 20:43:24.294 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-sonnet-20240229"
}
2025-08-23 20:43:24.296 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 20:43:24.296 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 20:43:24.318 [INFO]  Connected to WebSocket server
{
  "socketId": "xQpyH3Fwmr4GpmVBAAB5"
}
2025-08-23 20:43:24.318 [INFO]  WebSocket client connected successfully
2025-08-23 20:43:24.319 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "c20884dc-a4f2-4d09-8773-e1293acd27a7"
}
2025-08-23 20:43:24.319 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 20:43:39.033 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "8ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:43:39.056 [INFO]  Chat request received
{
  "sessionId": "real-anthropic-test-1755974619013",
  "messageLength": 28,
  "realm": "master",
  "priority": "high"
}
2025-08-23 20:43:39.059 [INFO] [3d680cc6] 🎯 Starting orchestration request
{
  "sessionId": "real-anthropic-test-1755974619013",
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:43:39.059 [DEBUG]  Determining execution strategy
{
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master"
}
2025-08-23 20:43:39.059 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:43:39.059 [INFO] [3d680cc6] 📋 Strategy determined
{
  "sessionId": "real-anthropic-test-1755974619013",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:43:39.059 [INFO]  Discovering MCP tools from servers
2025-08-23 20:43:39.060 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 20:43:39.060 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 20:43:39.060 [DEBUG]  Listing tools for keycloak
2025-08-23 20:43:39.060 [DEBUG]  Listing tools for neo4j
2025-08-23 20:43:39.060 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:43:39.060 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:43:39.062 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:43:39.062 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 20:43:39.062 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:43:39.062 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 20:43:39.062 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:43:39.062 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:43:39.064 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:43:39.064 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:43:39.064 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 20:43:39.064 [INFO] [3d680cc6] 🛠️ Tools selected for request
{
  "sessionId": "real-anthropic-test-1755974619013",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:43:39.064 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:43:39.064 [INFO] [3d680cc6] 🧠 Sending request to Gemini write all users to the graph
{
  "sessionId": "real-anthropic-test-1755974619013",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:43:39.065 [DEBUG] [a197a522] Sending chat request to Anthropic
{
  "sessionId": "real-anthropic-test-1755974619013",
  "model": "claude-3-sonnet-20240229",
  "messageLength": 44,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:43:39.266 [ERROR] [a197a522] Anthropic chat request failed
{
  "sessionId": "real-anthropic-test-1755974619013",
  "duration": 201,
  "error": "404 {\"type\":\"error\",\"error\":{\"type\":\"not_found_error\",\"message\":\"model: claude-3-sonnet-20240229\"},\"request_id\":\"req_011CSR8mx9GkNXUfcFL3Wd6j\"}"
}
2025-08-23 20:43:39.269 [ERROR] [3d680cc6] ❌ Orchestration request failed
{
  "sessionId": "real-anthropic-test-1755974619013",
  "userInput": "write all users to the graph",
  "duration": "207ms",
  "error": "404 {\"type\":\"error\",\"error\":{\"type\":\"not_found_error\",\"message\":\"model: claude-3-sonnet-20240229\"},\"request_id\":\"req_011CSR8mx9GkNXUfcFL3Wd6j\"}",
  "stack": "LLMError: 404 {\"type\":\"error\",\"error\":{\"type\":\"not_found_error\",\"message\":\"model: claude-3-sonnet-20240229\"},\"request_id\":\"req_011CSR8mx9GkNXUfcFL3Wd6j\"}\n    at AnthropicService.chat (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/llm/anthropic-service.ts:180:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Orchestrator.processRequest (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/orchestration/orchestrator.ts:122:27)\n    at async <anonymous> (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/api/orchestration.ts:100:22)",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:43:39.270 [INFO]  Chat request processed
{
  "sessionId": "real-anthropic-test-1755974619013",
  "success": false,
  "duration": "207ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:43:39.270 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "215ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:43:39.272 [INFO]  Chat request received
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "messageLength": 51,
  "realm": "master",
  "priority": "high"
}
2025-08-23 20:43:39.275 [INFO] [a26d3b49] 🎯 Starting orchestration request
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "userInput": "How many users are now in the Neo4j graph database?",
  "inputLength": 51,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:43:39.276 [DEBUG]  Determining execution strategy
{
  "userInput": "How many users are now in the Neo4j graph database?",
  "inputLength": 51,
  "realm": "master"
}
2025-08-23 20:43:39.276 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:43:39.276 [INFO] [a26d3b49] 📋 Strategy determined
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:43:39.276 [DEBUG]  Returning cached MCP tools
2025-08-23 20:43:39.276 [INFO] [a26d3b49] 🛠️ Tools selected for request
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:43:39.276 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:43:39.276 [INFO] [a26d3b49] 🧠 Sending request to Gemini How many users are now in the Neo4j graph database?
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "toolCount": 11,
  "functionCallingMode": "AUTO",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:43:39.276 [DEBUG] [31a2d418] Sending chat request to Anthropic
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "model": "claude-3-sonnet-20240229",
  "messageLength": 67,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:43:39.464 [ERROR] [31a2d418] Anthropic chat request failed
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "duration": 188,
  "error": "404 {\"type\":\"error\",\"error\":{\"type\":\"not_found_error\",\"message\":\"model: claude-3-sonnet-20240229\"},\"request_id\":\"req_011CSR8my17bU9qPoeVLrCpT\"}"
}
2025-08-23 20:43:39.465 [ERROR] [a26d3b49] ❌ Orchestration request failed
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "userInput": "How many users are now in the Neo4j graph database?",
  "duration": "190ms",
  "error": "404 {\"type\":\"error\",\"error\":{\"type\":\"not_found_error\",\"message\":\"model: claude-3-sonnet-20240229\"},\"request_id\":\"req_011CSR8my17bU9qPoeVLrCpT\"}",
  "stack": "LLMError: 404 {\"type\":\"error\",\"error\":{\"type\":\"not_found_error\",\"message\":\"model: claude-3-sonnet-20240229\"},\"request_id\":\"req_011CSR8my17bU9qPoeVLrCpT\"}\n    at AnthropicService.chat (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/llm/anthropic-service.ts:180:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Orchestrator.processRequest (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/orchestration/orchestrator.ts:122:27)\n    at async <anonymous> (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/api/orchestration.ts:100:22)",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:43:39.466 [INFO]  Chat request processed
{
  "sessionId": "real-anthropic-test-1755974619013-verify",
  "success": false,
  "duration": "190ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:43:39.467 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "195ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:43:54.954 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 20:43:55.203 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "previousProvider": null
}
2025-08-23 20:43:55.204 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "apiKeyPresent": true
}
2025-08-23 20:43:55.204 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-sonnet-20240229"
}
2025-08-23 20:43:55.207 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 20:43:55.207 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 20:43:55.227 [INFO]  Connected to WebSocket server
{
  "socketId": "QxPPtZAvd_d-FXNuAAB7"
}
2025-08-23 20:43:55.227 [INFO]  WebSocket client connected successfully
2025-08-23 20:43:55.231 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "e0403442-b230-4025-b798-1ac8e98a6964"
}
2025-08-23 20:43:55.231 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 20:44:00.541 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 18:44:05.612 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:44:19.555 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "previousProvider": null
}
2025-08-23 20:44:19.557 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-sonnet-20240229",
  "apiKeyPresent": true
}
2025-08-23 20:44:19.557 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-sonnet-20240229"
}
2025-08-23 20:44:19.559 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 20:44:19.559 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 20:44:19.578 [INFO]  Connected to WebSocket server
{
  "socketId": "1vD_1_Ua4dfvnP6QAAB9"
}
2025-08-23 20:44:19.581 [INFO]  WebSocket client connected successfully
2025-08-23 20:44:19.581 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "6242db9a-a1a1-477a-bce0-7db3bc19490b"
}
2025-08-23 20:44:19.582 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 20:44:35.289 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 18:45:05.665 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
viousProvider": null
}
2025-08-23 20:44:41.668 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 20:44:41.668 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 20:44:41.670 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 20:44:41.670 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 20:44:41.688 [INFO]  Connected to WebSocket server
{
  "socketId": "wiXzfGG2p5yIo4g0AAB_"
}
2025-08-23 20:44:41.688 [INFO]  WebSocket client connected successfully
2025-08-23 20:44:41.692 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "d6843f94-c5ed-4f14-84dd-af7026f4d7c9"
}
2025-08-23 20:44:41.693 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 20:44:50.445 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:44:50.467 [INFO]  Chat request received
{
  "sessionId": "real-anthropic-test-1755974690423",
  "messageLength": 28,
  "realm": "master",
  "priority": "high"
}
2025-08-23 20:44:50.470 [INFO] [d9230035] 🎯 Starting orchestration request
{
  "sessionId": "real-anthropic-test-1755974690423",
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:44:50.470 [DEBUG]  Determining execution strategy
{
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master"
}
2025-08-23 20:44:50.470 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:44:50.470 [INFO] [d9230035] 📋 Strategy determined
{
  "sessionId": "real-anthropic-test-1755974690423",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:44:50.470 [INFO]  Discovering MCP tools from servers
2025-08-23 20:44:50.471 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 20:44:50.471 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 20:44:50.471 [DEBUG]  Listing tools for keycloak
2025-08-23 20:44:50.471 [DEBUG]  Listing tools for neo4j
2025-08-23 20:44:50.471 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:44:50.471 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:44:50.473 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:44:50.473 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 20:44:50.473 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:44:50.473 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 20:44:50.474 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:44:50.474 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:44:50.475 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:44:50.476 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:44:50.476 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 20:44:50.476 [INFO] [d9230035] 🛠️ Tools selected for request
{
  "sessionId": "real-anthropic-test-1755974690423",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:44:50.476 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:44:50.476 [INFO] [d9230035] 🧠 Sending request to Gemini write all users to the graph
{
  "sessionId": "real-anthropic-test-1755974690423",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:44:50.476 [DEBUG] [0791d5c2] Sending chat request to Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 44,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:44:53.267 [INFO] [0791d5c2] Anthropic chat completed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 284,
  "usage": {
    "promptTokens": 1459,
    "completionTokens": 118,
    "totalTokens": 1577
  }
}
2025-08-23 20:44:53.268 [INFO] [d9230035] 🎭 LLM response received
{
  "sessionId": "real-anthropic-test-1755974690423",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 284,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "list-users"
  ]
}
2025-08-23 20:44:53.268 [INFO] [d9230035] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-23 20:44:53.269 [INFO] [b41937da] Processing function calls via Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423",
  "functionCallsCount": 1
}
2025-08-23 20:44:53.269 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-23 20:44:53.270 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:44:53.479 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-23 20:44:53.480 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:44:53.480 [DEBUG] [b41937da] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 331
}
2025-08-23 20:44:55.020 [INFO] [b41937da] Function call processing completed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "duration": 1751,
  "additionalFunctionCalls": 1
}
2025-08-23 20:44:55.021 [INFO] [d9230035] 🔧 Gemini requested more function calls
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "get_neo4j_schema"
  ]
}
2025-08-23 20:44:55.022 [INFO] [d9230035] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-23 20:44:55.022 [INFO] [bee47bd6] Processing function calls via Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423",
  "functionCallsCount": 1
}
2025-08-23 20:44:55.022 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-23 20:44:55.023 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:44:55.040 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-23 20:44:55.042 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:44:55.042 [DEBUG] [bee47bd6] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 201
}
2025-08-23 20:44:59.095 [INFO] [bee47bd6] Function call processing completed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "duration": 4073,
  "additionalFunctionCalls": 1
}
2025-08-23 20:44:59.095 [INFO] [d9230035] 🔧 Gemini requested more function calls
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 20:44:59.096 [INFO] [d9230035] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query",
        "parameters"
      ]
    }
  ]
}
2025-08-23 20:44:59.096 [INFO] [f5d2a314] Processing function calls via Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423",
  "functionCallsCount": 1
}
2025-08-23 20:44:59.096 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "UNWIND $users AS user\nMERGE (u:User {id: user.id})\nSET u.username = user.username,\n    u.enabled = user.enabled,\n    u.emailVerified = user.emailVerified,\n    u.createdTimestamp = user.createdTimestamp,\n    u.realm = 'master'",
    "parameters": {
      "users": [
        {
          "id": "f94ecd17-ce46-4663-98e4-0137fa8d82ae",
          "username": "admin",
          "enabled": true,
          "emailVerified": false,
          "createdTimestamp": 1755611843167
        }
      ]
    }
  }
}
2025-08-23 20:44:59.097 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:44:59.199 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 20:44:59.199 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:44:59.200 [DEBUG] [f5d2a314] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 308
}
2025-08-23 20:45:01.743 [INFO] [f5d2a314] Function call processing completed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "duration": 2647,
  "additionalFunctionCalls": 1
}
2025-08-23 20:45:01.743 [INFO] [d9230035] 🔧 Gemini requested more function calls
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 20:45:01.743 [INFO] [d9230035] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 20:45:01.743 [INFO] [0266ce87] Processing function calls via Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423",
  "functionCallsCount": 1
}
2025-08-23 20:45:01.744 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (u:User {id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae'})\nSET u.username = 'admin',\n    u.enabled = true,\n    u.emailVerified = false,\n    u.createdTimestamp = 1755611843167,\n    u.realm = 'master'"
  }
}
2025-08-23 20:45:01.744 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:45:01.897 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 20:45:01.898 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:45:01.898 [DEBUG] [0266ce87] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 339
}
2025-08-23 20:45:04.723 [INFO] [0266ce87] Function call processing completed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "duration": 2980,
  "additionalFunctionCalls": 0
}
2025-08-23 20:45:04.724 [INFO] [d9230035] ✅ Gemini finished calling functions
{
  "sessionId": "real-anthropic-test-1755974690423",
  "iteration": 4,
  "totalToolsCalled": 4
}
2025-08-23 20:45:04.726 [INFO] [d9230035] 📊 Data aggregation completed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "totalIterations": 4,
  "toolResultsCount": 3,
  "aggregatedDataKeys": [
    "users"
  ],
  "totalToolsCalled": 4,
  "dataTypes": [
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-23 20:45:04.726 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 4
}
2025-08-23 20:45:04.726 [INFO] [d9230035] ✅ Orchestration request completed successfully
{
  "sessionId": "real-anthropic-test-1755974690423",
  "duration": "14256ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 4,
  "finalResponseLength": 550,
  "dataKeys": [
    "users"
  ],
  "success": true
}
2025-08-23 20:45:04.727 [INFO]  Chat request processed
{
  "sessionId": "real-anthropic-test-1755974690423",
  "success": true,
  "duration": "14256ms",
  "toolsUsed": 4,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:45:04.728 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "14261ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:45:04.734 [INFO]  Chat request received
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "messageLength": 51,
  "realm": "master",
  "priority": "high"
}
2025-08-23 20:45:04.741 [INFO] [2eb4c543] 🎯 Starting orchestration request
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "userInput": "How many users are now in the Neo4j graph database?",
  "inputLength": 51,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:45:04.741 [DEBUG]  Determining execution strategy
{
  "userInput": "How many users are now in the Neo4j graph database?",
  "inputLength": 51,
  "realm": "master"
}
2025-08-23 20:45:04.741 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:45:04.742 [INFO] [2eb4c543] 📋 Strategy determined
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:45:04.742 [DEBUG]  Returning cached MCP tools
2025-08-23 20:45:04.742 [INFO] [2eb4c543] 🛠️ Tools selected for request
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:45:04.742 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:45:04.742 [INFO] [2eb4c543] 🧠 Sending request to Gemini How many users are now in the Neo4j graph database?
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "toolCount": 11,
  "functionCallingMode": "AUTO",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:45:04.742 [DEBUG] [ac3be23f] Sending chat request to Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 67,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:45:06.768 [INFO] [ac3be23f] Anthropic chat completed
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 121,
  "usage": {
    "promptTokens": 1466,
    "completionTokens": 105,
    "totalTokens": 1571
  }
}
2025-08-23 20:45:06.768 [INFO] [2eb4c543] 🎭 LLM response received
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 121,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "read_neo4j_cypher"
  ]
}
2025-08-23 20:45:06.769 [INFO] [2eb4c543] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "read_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 20:45:06.769 [INFO] [b2322744] Processing function calls via Anthropic
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "functionCallsCount": 1
}
2025-08-23 20:45:06.770 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "args": {
    "query": "MATCH (u:User) RETURN COUNT(u) as userCount"
  }
}
2025-08-23 20:45:06.770 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/read_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:45:06.806 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/read_neo4j_cypher"
}
2025-08-23 20:45:06.807 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "resultKey": "neo4j_read_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:45:06.807 [DEBUG] [b2322744] Function call executed successfully
{
  "functionName": "read_neo4j_cypher",
  "resultLength": 217
}
2025-08-23 20:45:08.756 [INFO] [b2322744] Function call processing completed
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "duration": 1987,
  "additionalFunctionCalls": 0
}
2025-08-23 20:45:08.756 [INFO] [2eb4c543] ✅ Gemini finished calling functions
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "iteration": 1,
  "totalToolsCalled": 1
}
2025-08-23 20:45:08.757 [INFO] [2eb4c543] 📊 Data aggregation completed
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "totalIterations": 1,
  "toolResultsCount": 1,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 1,
  "dataTypes": []
}
2025-08-23 20:45:08.758 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 1
}
2025-08-23 20:45:08.758 [INFO] [2eb4c543] ✅ Orchestration request completed successfully
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "duration": "4017ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 1,
  "finalResponseLength": 258,
  "dataKeys": [],
  "success": true
}
2025-08-23 20:45:08.758 [INFO]  Chat request processed
{
  "sessionId": "real-anthropic-test-1755974690423-verify",
  "success": true,
  "duration": "4017ms",
  "toolsUsed": 1,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:45:08.760 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "4027ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:45:35.985 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 18:46:05.716 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:47:05.769 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:48:05.826 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:49:05.875 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:50:05.929 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:51:05.980 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:52:06.035 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:53:06.090 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:54:06.140 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:55:06.187 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:56:06.237 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:57:06.290 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 18:58:06.336 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 18:59:06.395 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:00:06.444 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
8-23 20:51:35.091 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:51:35.104 [INFO]  Chat request received
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "messageLength": 200,
  "realm": "master",
  "priority": "high"
}
2025-08-23 20:51:35.107 [INFO] [de297891] 🎯 Starting orchestration request
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j",
  "inputLength": 200,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:51:35.107 [DEBUG]  Determining execution strategy
{
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Chec",
  "inputLength": 200,
  "realm": "master"
}
2025-08-23 20:51:35.107 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:51:35.107 [INFO] [de297891] 📋 Strategy determined
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:51:35.107 [INFO]  Discovering MCP tools from servers
2025-08-23 20:51:35.107 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 20:51:35.107 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 20:51:35.107 [DEBUG]  Listing tools for keycloak
2025-08-23 20:51:35.108 [DEBUG]  Listing tools for neo4j
2025-08-23 20:51:35.108 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:51:35.108 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:51:35.110 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:51:35.110 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 20:51:35.110 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 20:51:35.110 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 20:51:35.110 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:51:35.110 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:51:35.112 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:51:35.113 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 20:51:35.113 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 20:51:35.113 [INFO] [de297891] 🛠️ Tools selected for request
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:51:35.113 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:51:35.113 [INFO] [de297891] 🧠 Sending request to Gemini check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:51:35.113 [DEBUG] [21b24840] Sending chat request to Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 216,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:51:36.934 [INFO] [21b24840] Anthropic chat completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 160,
  "usage": {
    "promptTokens": 1498,
    "completionTokens": 84,
    "totalTokens": 1582
  }
}
2025-08-23 20:51:36.935 [INFO] [de297891] 🎭 LLM response received
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 160,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-23 20:51:36.935 [INFO] [de297891] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-23 20:51:36.936 [INFO] [809bb651] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "functionCallsCount": 1
}
2025-08-23 20:51:36.936 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-23 20:51:36.937 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:51:36.952 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-23 20:51:36.952 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:51:36.953 [DEBUG] [809bb651] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 753
}
2025-08-23 20:51:39.103 [INFO] [809bb651] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "duration": 2168,
  "additionalFunctionCalls": 1
}
2025-08-23 20:51:39.103 [INFO] [de297891] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-23 20:51:39.103 [INFO] [de297891] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-23 20:51:39.103 [INFO] [001f10d9] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "functionCallsCount": 1
}
2025-08-23 20:51:39.103 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-23 20:51:39.103 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:51:39.301 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-23 20:51:39.301 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:51:39.302 [DEBUG] [001f10d9] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 331
}
2025-08-23 20:51:40.721 [INFO] [001f10d9] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "duration": 1618,
  "additionalFunctionCalls": 1
}
2025-08-23 20:51:40.722 [INFO] [de297891] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-23 20:51:40.722 [INFO] [de297891] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-23 20:51:40.723 [INFO] [ed8547a5] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "functionCallsCount": 1
}
2025-08-23 20:51:40.723 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-23 20:51:40.724 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:51:40.940 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-23 20:51:40.941 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:51:40.941 [DEBUG] [ed8547a5] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-23 20:51:46.619 [INFO] [ed8547a5] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "duration": 5896,
  "additionalFunctionCalls": 1
}
2025-08-23 20:51:46.620 [INFO] [de297891] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 20:51:46.620 [INFO] [de297891] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 20:51:46.620 [INFO] [1de5951a] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "functionCallsCount": 1
}
2025-08-23 20:51:46.620 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "// Create or update Realm\nMERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true\n\n// Create or update User and relationship to Realm\nMERGE (u:User {id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae'})\nSET u.username = 'admin',\n    u.enabled = true,\n    u.emailVerified = false,\n    u.createdTimestamp = 1755611843167,\n    u.realm = 'master'\n\n// Create relationship between User and Realm\nMERGE (u)-[:BELONGS_TO]->(r)"
  }
}
2025-08-23 20:51:46.621 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:51:46.729 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 20:51:46.729 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:51:46.730 [DEBUG] [1de5951a] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 339
}
2025-08-23 20:51:50.196 [INFO] [1de5951a] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "duration": 3576,
  "additionalFunctionCalls": 1
}
2025-08-23 20:51:50.197 [INFO] [de297891] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-23 20:51:50.197 [INFO] [de297891] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "read_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 20:51:50.197 [INFO] [6f633672] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "functionCallsCount": 1
}
2025-08-23 20:51:50.198 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "args": {
    "query": "MATCH (u:User)-[r:BELONGS_TO]->(realm:Realm)\nRETURN u, r, realm;"
  }
}
2025-08-23 20:51:50.199 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/read_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:51:50.254 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/read_neo4j_cypher"
}
2025-08-23 20:51:50.255 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "resultKey": "neo4j_read_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:51:50.255 [DEBUG] [6f633672] Function call executed successfully
{
  "functionName": "read_neo4j_cypher",
  "resultLength": 742
}
2025-08-23 20:51:52.946 [INFO] [6f633672] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "duration": 2749,
  "additionalFunctionCalls": 0
}
2025-08-23 20:51:52.946 [INFO] [de297891] ✅ Gemini finished calling functions
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "iteration": 5,
  "totalToolsCalled": 5
}
2025-08-23 20:51:52.947 [WARN] [de297891] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-23 20:51:52.947 [INFO] [de297891] 📊 Data aggregation completed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "totalIterations": 5,
  "toolResultsCount": 5,
  "aggregatedDataKeys": [
    "users",
    "realms"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "users",
      "isArray": false,
      "size": 3
    },
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-23 20:51:52.948 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-23 20:51:52.948 [INFO] [de297891] ✅ Orchestration request completed successfully
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "duration": "17841ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 242,
  "dataKeys": [
    "users",
    "realms"
  ],
  "success": true
}
2025-08-23 20:51:52.949 [INFO]  Chat request processed
{
  "sessionId": "advanced-anthropic-test-1755975095064",
  "success": true,
  "duration": "17841ms",
  "toolsUsed": 5,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:51:52.950 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "17846ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:52:19.241 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:52:19.245 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 20:52:19.252 [INFO]  Chat request received
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "messageLength": 200,
  "realm": "master",
  "priority": "high"
}
2025-08-23 20:52:19.255 [INFO] [e65d7229] 🎯 Starting orchestration request
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j",
  "inputLength": 200,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 20:52:19.255 [DEBUG]  Determining execution strategy
{
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Chec",
  "inputLength": 200,
  "realm": "master"
}
2025-08-23 20:52:19.255 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 20:52:19.255 [INFO] [e65d7229] 📋 Strategy determined
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 20:52:19.255 [DEBUG]  Returning cached MCP tools
2025-08-23 20:52:19.255 [INFO] [e65d7229] 🛠️ Tools selected for request
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 20:52:19.255 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 20:52:19.255 [INFO] [e65d7229] 🧠 Sending request to Gemini check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 20:52:19.255 [DEBUG] [e9756c82] Sending chat request to Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 216,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 20:52:21.067 [INFO] [e9756c82] Anthropic chat completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 160,
  "usage": {
    "promptTokens": 1498,
    "completionTokens": 84,
    "totalTokens": 1582
  }
}
2025-08-23 20:52:21.068 [INFO] [e65d7229] 🎭 LLM response received
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 160,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-23 20:52:21.068 [INFO] [e65d7229] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-23 20:52:21.069 [INFO] [a85e8f56] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "functionCallsCount": 1
}
2025-08-23 20:52:21.069 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-23 20:52:21.070 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:52:21.150 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-23 20:52:21.151 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:52:21.151 [DEBUG] [a85e8f56] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1353
}
2025-08-23 20:52:23.720 [INFO] [a85e8f56] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "duration": 2651,
  "additionalFunctionCalls": 1
}
2025-08-23 20:52:23.720 [INFO] [e65d7229] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-23 20:52:23.720 [INFO] [e65d7229] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-23 20:52:23.721 [INFO] [e32b2fc7] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "functionCallsCount": 1
}
2025-08-23 20:52:23.721 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-23 20:52:23.722 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:52:23.914 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-23 20:52:23.915 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:52:23.916 [DEBUG] [e32b2fc7] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-23 20:52:25.465 [INFO] [e32b2fc7] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "duration": 1744,
  "additionalFunctionCalls": 1
}
2025-08-23 20:52:25.465 [INFO] [e65d7229] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-23 20:52:25.465 [INFO] [e65d7229] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-23 20:52:25.465 [INFO] [465b8d0d] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "functionCallsCount": 1
}
2025-08-23 20:52:25.465 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-23 20:52:25.466 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-23 20:52:25.662 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-23 20:52:25.662 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:52:25.663 [DEBUG] [465b8d0d] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 331
}
2025-08-23 20:52:28.695 [INFO] [465b8d0d] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "duration": 3230,
  "additionalFunctionCalls": 1
}
2025-08-23 20:52:28.696 [INFO] [e65d7229] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 20:52:28.696 [INFO] [e65d7229] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 20:52:28.697 [INFO] [4d014607] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "functionCallsCount": 1
}
2025-08-23 20:52:28.697 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true\nRETURN r"
  }
}
2025-08-23 20:52:28.697 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:52:28.748 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 20:52:28.748 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:52:28.749 [DEBUG] [4d014607] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-23 20:52:32.116 [INFO] [4d014607] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "duration": 3419,
  "additionalFunctionCalls": 1
}
2025-08-23 20:52:32.117 [INFO] [e65d7229] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 20:52:32.117 [INFO] [e65d7229] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 20:52:32.117 [INFO] [a7767ae2] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "functionCallsCount": 1
}
2025-08-23 20:52:32.117 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (u:User {id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae'})\nSET u.username = 'admin',\n    u.enabled = true,\n    u.emailVerified = false,\n    u.createdTimestamp = 1755611843167,\n    u.realm = 'master'\nWITH u\nMATCH (r:Realm {name: 'master'})\nMERGE (u)-[:BELONGS_TO]->(r)\nRETURN u"
  }
}
2025-08-23 20:52:32.118 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 20:52:32.183 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 20:52:32.184 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 20:52:32.184 [DEBUG] [a7767ae2] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-23 20:52:36.212 [INFO] [a7767ae2] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "duration": 4095,
  "additionalFunctionCalls": 0
}
2025-08-23 20:52:36.213 [INFO] [e65d7229] ✅ Gemini finished calling functions
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "iteration": 5,
  "totalToolsCalled": 5
}
2025-08-23 20:52:36.213 [WARN] [e65d7229] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-23 20:52:36.214 [INFO] [e65d7229] 📊 Data aggregation completed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-23 20:52:36.214 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-23 20:52:36.214 [INFO] [e65d7229] ✅ Orchestration request completed successfully
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "duration": "16959ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 775,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-23 20:52:36.214 [INFO]  Chat request processed
{
  "sessionId": "advanced-anthropic-test-1755975139224",
  "success": true,
  "duration": "16959ms",
  "toolsUsed": 5,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 20:52:36.215 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "16963ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:00:47.794 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:01:06.491 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
viousProvider": null
}
2025-08-23 21:00:48.134 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:00:48.134 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:00:48.136 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:00:48.137 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:00:48.157 [INFO]  Connected to WebSocket server
{
  "socketId": "-slUhPnNHjJb-M9cAACD"
}
2025-08-23 21:00:48.158 [INFO]  WebSocket client connected successfully
2025-08-23 21:00:48.162 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "8e3a2ce1-4799-4f38-ba07-b1aa1a96c6cf"
}
2025-08-23 21:00:48.162 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:01:41.291 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 21:01:41.534 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-23 21:01:41.535 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:01:41.536 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:01:41.538 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:01:41.538 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:01:41.559 [INFO]  Connected to WebSocket server
{
  "socketId": "za6QcOZUyz-IjfwSAACF"
}
2025-08-23 21:01:41.559 [INFO]  WebSocket client connected successfully
2025-08-23 21:01:41.563 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "173a2fe7-dd6d-4774-b831-3e6cc6992801"
}
2025-08-23 21:01:41.564 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:01:53.081 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 21:01:53.320 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-23 21:01:53.322 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:01:53.322 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:01:53.324 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:01:53.325 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:01:53.344 [INFO]  Connected to WebSocket server
{
  "socketId": "Q2OCdAHdOotdSc8hAACH"
}
2025-08-23 21:01:53.345 [INFO]  WebSocket client connected successfully
2025-08-23 21:01:53.348 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "a5a6f2f6-b37e-4425-b21d-1862584b371c"
}
2025-08-23 21:01:53.349 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:02:01.320 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:02:06.546 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
viousProvider": null
}
2025-08-23 21:02:01.570 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:02:01.570 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:02:01.572 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:02:01.572 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:02:01.593 [INFO]  Connected to WebSocket server
{
  "socketId": "HIafyT199JBBWQuXAACJ"
}
2025-08-23 21:02:01.594 [INFO]  WebSocket client connected successfully
2025-08-23 21:02:01.594 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "93d88bbc-06a5-48cb-bfc3-e278f8ac4923"
}
2025-08-23 21:02:01.594 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:02:13.966 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:02:13.970 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:02:13.982 [INFO]  Chat request received
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "messageLength": 200,
  "realm": "master",
  "priority": "high"
}
2025-08-23 21:02:13.985 [INFO] [e653cc16] 🎯 Starting orchestration request
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j",
  "inputLength": 200,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 21:02:13.985 [DEBUG]  Determining execution strategy
{
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Chec",
  "inputLength": 200,
  "realm": "master"
}
2025-08-23 21:02:13.985 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 21:02:13.985 [INFO] [e653cc16] 📋 Strategy determined
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 21:02:13.986 [INFO]  Discovering MCP tools from servers
2025-08-23 21:02:13.986 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 21:02:13.986 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 21:02:13.986 [DEBUG]  Listing tools for keycloak
2025-08-23 21:02:13.986 [DEBUG]  Listing tools for neo4j
2025-08-23 21:02:13.986 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:02:13.986 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:13.988 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 21:02:13.988 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 21:02:13.988 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 21:02:13.988 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 21:02:13.989 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:02:13.989 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:13.990 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 21:02:13.990 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 21:02:13.991 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 21:02:13.991 [INFO] [e653cc16] 🛠️ Tools selected for request
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 21:02:13.991 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 21:02:13.991 [INFO] [e653cc16] 🧠 Sending request to Gemini check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 21:02:13.991 [DEBUG] [853366c4] Sending chat request to Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 216,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 21:02:14.296 [ERROR] [853366c4] Anthropic chat request failed
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "duration": 305,
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"disable_parallel_tool_use: Extra inputs are not permitted\"},\"request_id\":\"req_011CSRAC996fpru8F24CxwW1\"}"
}
2025-08-23 21:02:14.302 [ERROR] [e653cc16] ❌ Orchestration request failed
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "userInput": "check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j",
  "duration": "312ms",
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"disable_parallel_tool_use: Extra inputs are not permitted\"},\"request_id\":\"req_011CSRAC996fpru8F24CxwW1\"}",
  "stack": "LLMError: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"disable_parallel_tool_use: Extra inputs are not permitted\"},\"request_id\":\"req_011CSRAC996fpru8F24CxwW1\"}\n    at AnthropicService.chat (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/llm/anthropic-service.ts:184:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Orchestrator.processRequest (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/orchestration/orchestrator.ts:122:27)\n    at async <anonymous> (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/api/orchestration.ts:100:22)",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 21:02:14.302 [INFO]  Chat request processed
{
  "sessionId": "advanced-anthropic-test-1755975733947",
  "success": false,
  "duration": "312ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 21:02:14.303 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "321ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:02:21.561 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:03:06.600 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:04:06.647 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:05:06.699 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:06:06.747 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:07:06.797 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:08:06.834 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:09:06.881 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:10:06.940 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:11:06.977 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:12:07.022 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:13:07.077 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:14:07.132 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:15:07.190 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:16:07.233 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:17:07.279 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 19:18:07.325 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 19:19:07.377 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:20:07.423 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:21:07.479 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:22:07.521 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
ers
2025-08-23 21:02:25.352 [INFO]  Keycloak MCP client initialized
{
  "url": "http://localhost:8001"
}
2025-08-23 21:02:25.352 [INFO]  Neo4j MCP client initialized
{
  "url": "http://localhost:8002"
}
2025-08-23 21:02:25.352 [DEBUG]  Listing tools for keycloak
2025-08-23 21:02:25.353 [DEBUG]  Listing tools for neo4j
2025-08-23 21:02:25.353 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:02:25.353 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:25.354 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 21:02:25.354 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 21:02:25.355 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 21:02:25.355 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 21:02:25.355 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:02:25.355 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:25.357 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 21:02:25.357 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 21:02:25.357 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 21:02:25.357 [INFO] [75f2a3ce] 🛠️ Tools selected for request
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 21:02:25.357 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 21:02:25.357 [INFO] [75f2a3ce] 🧠 Sending request to Gemini check which data you can access from keycloak, then sync all the data you can get to the graph. Check the graph schema before and think about how to structure the data before you write it to the neo4j
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 21:02:25.358 [DEBUG] [e7742071] Sending chat request to Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 216,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-23 21:02:27.368 [INFO] [e7742071] Anthropic chat completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 180,
  "usage": {
    "promptTokens": 2032,
    "completionTokens": 88,
    "totalTokens": 2120
  }
}
2025-08-23 21:02:27.368 [INFO] [75f2a3ce] 🎭 LLM response received
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 180,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-23 21:02:27.369 [INFO] [75f2a3ce] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-23 21:02:27.369 [INFO] [aa3778ef] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "functionCallsCount": 1
}
2025-08-23 21:02:27.369 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-23 21:02:27.370 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:27.379 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-23 21:02:27.380 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:02:27.380 [DEBUG] [aa3778ef] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1353
}
2025-08-23 21:02:28.986 [INFO] [aa3778ef] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "duration": 1616,
  "additionalFunctionCalls": 1
}
2025-08-23 21:02:28.986 [INFO] [75f2a3ce] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-23 21:02:28.987 [INFO] [75f2a3ce] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-23 21:02:28.987 [INFO] [ba0559bc] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "functionCallsCount": 1
}
2025-08-23 21:02:28.987 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-23 21:02:28.987 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:02:29.188 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-23 21:02:29.189 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:02:29.189 [DEBUG] [ba0559bc] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-23 21:02:30.355 [INFO] [ba0559bc] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "duration": 1368,
  "additionalFunctionCalls": 1
}
2025-08-23 21:02:30.356 [INFO] [75f2a3ce] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-23 21:02:30.356 [INFO] [75f2a3ce] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-23 21:02:30.356 [INFO] [602a0f6f] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "functionCallsCount": 1
}
2025-08-23 21:02:30.357 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-23 21:02:30.357 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:02:30.552 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-23 21:02:30.553 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:02:30.553 [DEBUG] [602a0f6f] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 331
}
2025-08-23 21:02:33.490 [INFO] [602a0f6f] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "duration": 3134,
  "additionalFunctionCalls": 1
}
2025-08-23 21:02:33.490 [INFO] [75f2a3ce] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 21:02:33.490 [INFO] [75f2a3ce] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 21:02:33.491 [INFO] [bb056eea] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "functionCallsCount": 1
}
2025-08-23 21:02:33.491 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true\nRETURN r"
  }
}
2025-08-23 21:02:33.491 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:33.498 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 21:02:33.498 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:02:33.498 [DEBUG] [bb056eea] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 337
}
2025-08-23 21:02:36.595 [INFO] [bb056eea] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "duration": 3104,
  "additionalFunctionCalls": 1
}
2025-08-23 21:02:36.595 [INFO] [75f2a3ce] 🔧 Gemini requested more function calls
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 21:02:36.595 [INFO] [75f2a3ce] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 21:02:36.595 [INFO] [f892b514] Processing function calls via Anthropic
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "functionCallsCount": 1
}
2025-08-23 21:02:36.595 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (u:User {id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae'})\nSET u.username = 'admin',\n    u.enabled = true,\n    u.emailVerified = false,\n    u.createdTimestamp = 1755611843167,\n    u.realm = 'master'\nWITH u\nMATCH (r:Realm {name: 'master'})\nMERGE (u)-[:BELONGS_TO]->(r)\nRETURN u, r"
  }
}
2025-08-23 21:02:36.596 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:02:36.656 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 21:02:36.657 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:02:36.657 [DEBUG] [f892b514] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-23 21:02:41.305 [INFO] [f892b514] Function call processing completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "duration": 4710,
  "additionalFunctionCalls": 0
}
2025-08-23 21:02:41.306 [INFO] [75f2a3ce] ✅ Gemini finished calling functions
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "iteration": 5,
  "totalToolsCalled": 5
}
2025-08-23 21:02:41.306 [WARN] [75f2a3ce] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-23 21:02:41.307 [INFO] [75f2a3ce] 📊 Data aggregation completed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-23 21:02:41.307 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-23 21:02:41.308 [INFO] [75f2a3ce] ✅ Orchestration request completed successfully
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "duration": "15956ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 863,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-23 21:02:41.308 [INFO]  Chat request processed
{
  "sessionId": "advanced-anthropic-test-1755975745312",
  "success": true,
  "duration": "15956ms",
  "toolsUsed": 5,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 21:02:41.309 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "15961ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:10:17.663 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:10:17.668 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:10:17.675 [INFO]  Chat request received
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "messageLength": 188,
  "realm": "master",
  "priority": "high"
}
2025-08-23 21:10:17.678 [INFO] [19984801] 🎯 Starting orchestration request
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "userInput": "Create a new user named John Doe with username 'john.doe.test' and email 'john.doe@ikas-test.com', then sync all users from Keycloak to Neo4j to include this new user in the graph database",
  "inputLength": 188,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 21:10:17.678 [DEBUG]  Determining execution strategy
{
  "userInput": "Create a new user named John Doe with username 'john.doe.test' and email 'john.doe@ikas-test.com', t",
  "inputLength": 188,
  "realm": "master"
}
2025-08-23 21:10:17.678 [INFO]  Detected write operation, using KEYCLOAK_WRITE_THEN_SYNC strategy
2025-08-23 21:10:17.678 [INFO] [19984801] 📋 Strategy determined
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "strategy": "keycloak_write_then_sync",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 21:10:17.678 [INFO]  Discovering MCP tools from servers
2025-08-23 21:10:17.678 [DEBUG]  Listing tools for keycloak
2025-08-23 21:10:17.678 [DEBUG]  Listing tools for neo4j
2025-08-23 21:10:17.678 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:10:17.678 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:10:17.680 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 21:10:17.680 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 21:10:17.680 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 21:10:17.680 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 21:10:17.680 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:10:17.680 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:10:17.682 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 21:10:17.682 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 21:10:17.682 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 21:10:17.682 [INFO] [19984801] 🛠️ Tools selected for request
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "strategy": "keycloak_write_then_sync",
  "intent": "write",
  "toolCount": 3,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 21:10:17.682 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master"
}
2025-08-23 21:10:17.682 [INFO] [19984801] 🧠 Sending request to Gemini Create a new user named John Doe with username 'john.doe.test' and email 'john.doe@ikas-test.com', then sync all users from Keycloak to Neo4j to include this new user in the graph database
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "toolCount": 3,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 21:10:17.682 [DEBUG] [277bb7b8] Sending chat request to Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 204,
  "toolsCount": 3,
  "historyLength": 1
}
2025-08-23 21:10:19.583 [INFO] [277bb7b8] Anthropic chat completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 154,
  "usage": {
    "promptTokens": 1497,
    "completionTokens": 80,
    "totalTokens": 1577
  }
}
2025-08-23 21:10:19.583 [INFO] [19984801] 🎭 LLM response received
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 154,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "create-user"
  ]
}
2025-08-23 21:10:19.583 [INFO] [19984801] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "create-user",
      "argKeys": []
    }
  ]
}
2025-08-23 21:10:19.583 [INFO] [760a3dfd] Processing function calls via Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "functionCallsCount": 1
}
2025-08-23 21:10:19.583 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "create-user",
  "args": {}
}
2025-08-23 21:10:19.583 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/create-user",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:10:19.789 [ERROR]  MCP Response Error [keycloak] Request failed with status code 500
{
  "status": 500,
  "url": "/tools/create-user"
}
2025-08-23 21:10:19.805 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "create-user",
  "resultKey": "keycloak_create-user",
  "success": false,
  "hasData": false,
  "dataType": "none",
  "dataSize": 0
}
2025-08-23 21:10:19.805 [DEBUG] [760a3dfd] Function call executed successfully
{
  "functionName": "create-user",
  "resultLength": 199
}
2025-08-23 21:10:21.552 [INFO] [760a3dfd] Function call processing completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "duration": 1969,
  "additionalFunctionCalls": 1
}
2025-08-23 21:10:21.553 [INFO] [19984801] 🔧 Gemini requested more function calls
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 21:10:21.553 [INFO] [19984801] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": []
    }
  ]
}
2025-08-23 21:10:21.553 [INFO] [8bf89b5e] Processing function calls via Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "functionCallsCount": 1
}
2025-08-23 21:10:21.553 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {}
}
2025-08-23 21:10:21.554 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:10:21.557 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 21:10:21.558 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:10:21.558 [DEBUG] [8bf89b5e] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 230
}
2025-08-23 21:10:24.514 [INFO] [8bf89b5e] Function call processing completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "duration": 2961,
  "additionalFunctionCalls": 1
}
2025-08-23 21:10:24.514 [INFO] [19984801] 🔧 Gemini requested more function calls
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 21:10:24.515 [INFO] [19984801] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 21:10:24.515 [INFO] [675a1a8c] Processing function calls via Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "functionCallsCount": 1
}
2025-08-23 21:10:24.515 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (realm:Realm {name: 'master'})\nMERGE (user:User {\n  username: 'john.doe.test',\n  email: 'john.doe@ikas-test.com',\n  firstName: 'John',\n  lastName: 'Doe'\n})\nWITH user, realm\nMERGE (user)-[:BELONGS_TO]->(realm)"
  }
}
2025-08-23 21:10:24.515 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:10:24.581 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 21:10:24.582 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:10:24.582 [DEBUG] [675a1a8c] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-23 21:10:28.665 [INFO] [675a1a8c] Function call processing completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "duration": 4150,
  "additionalFunctionCalls": 0
}
2025-08-23 21:10:28.665 [INFO] [19984801] ✅ Gemini finished calling functions
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "iteration": 3,
  "totalToolsCalled": 3
}
2025-08-23 21:10:28.665 [INFO] [19984801] 📊 Data aggregation completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "totalIterations": 3,
  "toolResultsCount": 2,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 3,
  "dataTypes": []
}
2025-08-23 21:10:28.666 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master",
  "toolsCalledCount": 3
}
2025-08-23 21:10:28.666 [INFO] [19984801] ✅ Orchestration request completed successfully
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "duration": "10989ms",
  "strategy": "keycloak_write_then_sync",
  "toolsCalledCount": 3,
  "finalResponseLength": 766,
  "dataKeys": [],
  "success": true
}
2025-08-23 21:10:28.666 [INFO]  Chat request processed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-1",
  "success": true,
  "duration": "10989ms",
  "toolsUsed": 3,
  "strategy": "keycloak_write_then_sync"
}
2025-08-23 21:10:28.667 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "10992ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:10:30.674 [INFO]  Chat request received
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "messageLength": 190,
  "realm": "master",
  "priority": "high"
}
2025-08-23 21:10:30.685 [INFO] [8cc13f2c] 🎯 Starting orchestration request
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "userInput": "Create user Jane Smith with username 'jane.smith.test' and email 'jane.smith@ikas-test.com', then immediately sync the updated user data to the graph database and verify she appears in Neo4j",
  "inputLength": 190,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "high"
  }
}
2025-08-23 21:10:30.685 [DEBUG]  Determining execution strategy
{
  "userInput": "Create user Jane Smith with username 'jane.smith.test' and email 'jane.smith@ikas-test.com', then im",
  "inputLength": 190,
  "realm": "master"
}
2025-08-23 21:10:30.685 [INFO]  Detected write operation, using KEYCLOAK_WRITE_THEN_SYNC strategy
2025-08-23 21:10:30.686 [INFO] [8cc13f2c] 📋 Strategy determined
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "strategy": "keycloak_write_then_sync",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 21:10:30.686 [DEBUG]  Returning cached MCP tools
2025-08-23 21:10:30.686 [INFO] [8cc13f2c] 🛠️ Tools selected for request
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "strategy": "keycloak_write_then_sync",
  "intent": "write",
  "toolCount": 3,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 21:10:30.687 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master"
}
2025-08-23 21:10:30.687 [INFO] [8cc13f2c] 🧠 Sending request to Gemini Create user Jane Smith with username 'jane.smith.test' and email 'jane.smith@ikas-test.com', then immediately sync the updated user data to the graph database and verify she appears in Neo4j
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "toolCount": 3,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-23 21:10:30.687 [DEBUG] [ef7ca33f] Sending chat request to Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 206,
  "toolsCount": 3,
  "historyLength": 1
}
2025-08-23 21:10:35.251 [INFO] [ef7ca33f] Anthropic chat completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 158,
  "usage": {
    "promptTokens": 1490,
    "completionTokens": 195,
    "totalTokens": 1685
  }
}
2025-08-23 21:10:35.251 [INFO] [8cc13f2c] 🎭 LLM response received
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 158,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "create-user"
  ]
}
2025-08-23 21:10:35.252 [INFO] [8cc13f2c] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "create-user",
      "argKeys": [
        "username",
        "email",
        "firstName",
        "lastName",
        "realm",
        "enabled"
      ]
    }
  ]
}
2025-08-23 21:10:35.252 [INFO] [1ab362ce] Processing function calls via Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "functionCallsCount": 1
}
2025-08-23 21:10:35.252 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "create-user",
  "args": {
    "username": "jane.smith.test",
    "email": "jane.smith@ikas-test.com",
    "firstName": "Jane",
    "lastName": "Smith",
    "realm": "master",
    "enabled": true
  }
}
2025-08-23 21:10:35.252 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/create-user",
  "baseURL": "http://localhost:8001"
}
2025-08-23 21:10:35.481 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/create-user"
}
2025-08-23 21:10:35.482 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "create-user",
  "resultKey": "keycloak_create-user",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:10:35.482 [DEBUG] [1ab362ce] Function call executed successfully
{
  "functionName": "create-user",
  "resultLength": 281
}
2025-08-23 21:10:38.439 [INFO] [1ab362ce] Function call processing completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "duration": 3187,
  "additionalFunctionCalls": 1
}
2025-08-23 21:10:38.439 [INFO] [8cc13f2c] 🔧 Gemini requested more function calls
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-23 21:10:38.439 [INFO] [8cc13f2c] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-23 21:10:38.439 [INFO] [80657442] Processing function calls via Anthropic
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "functionCallsCount": 1
}
2025-08-23 21:10:38.440 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (u:User {id: '6189b406-e03d-4db5-82d7-285b279cd243'})\nSET u.username = 'jane.smith.test',\n    u.email = 'jane.smith@ikas-test.com',\n    u.firstName = 'Jane',\n    u.lastName = 'Smith',\n    u.realm = 'master',\n    u.enabled = true,\n    u.lastSync = timestamp()\nRETURN u"
  }
}
2025-08-23 21:10:38.440 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-23 21:10:38.487 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-23 21:10:38.488 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 21:10:38.488 [DEBUG] [80657442] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-23 21:10:42.127 [INFO] [80657442] Function call processing completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "duration": 3688,
  "additionalFunctionCalls": 0
}
2025-08-23 21:10:42.127 [INFO] [8cc13f2c] ✅ Gemini finished calling functions
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "iteration": 2,
  "totalToolsCalled": 2
}
2025-08-23 21:10:42.128 [INFO] [8cc13f2c] 📊 Data aggregation completed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "totalIterations": 2,
  "toolResultsCount": 2,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 2,
  "dataTypes": []
}
2025-08-23 21:10:42.128 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master",
  "toolsCalledCount": 2
}
2025-08-23 21:10:42.128 [INFO] [8cc13f2c] ✅ Orchestration request completed successfully
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "duration": "11443ms",
  "strategy": "keycloak_write_then_sync",
  "toolsCalledCount": 2,
  "finalResponseLength": 694,
  "dataKeys": [],
  "success": true
}
2025-08-23 21:10:42.128 [INFO]  Chat request processed
{
  "sessionId": "user-creation-sync-test-1755976217645-phase-2",
  "success": true,
  "duration": "11443ms",
  "toolsUsed": 2,
  "strategy": "keycloak_write_then_sync"
}
2025-08-23 21:10:42.129 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "11455ms",
  "userAgent": "axios/1.11.0"
}
2025-08-23 21:22:42.919 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:23:07.568 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
viousProvider": null
}
2025-08-23 21:22:43.253 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:22:43.253 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:22:43.255 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:22:43.255 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:22:43.279 [INFO]  Connected to WebSocket server
{
  "socketId": "0NACuH7kVqdBUTxNAACN"
}
2025-08-23 21:22:43.280 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "ff73f7de-9e5d-427f-8013-bd1be84ca5d1"
}
2025-08-23 21:22:43.280 [INFO]  WebSocket client connected successfully
2025-08-23 21:22:43.284 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:23:08.569 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 21:23:08.817 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-23 21:23:08.818 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:23:08.818 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:23:08.821 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:23:08.821 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:23:08.837 [INFO]  Connected to WebSocket server
{
  "socketId": "6RerKTUtFXjgvF9dAACP"
}
2025-08-23 21:23:08.838 [INFO]  WebSocket client connected successfully
2025-08-23 21:23:08.838 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "6095c9f2-274e-4151-82a5-3a570537f56b"
}
2025-08-23 21:23:08.838 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:23:42.043 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:24:07.616 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:25:07.665 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:26:07.713 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:27:07.768 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:28:07.814 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 19:29:07.866 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:30:07.917 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:31:07.969 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 19:31:50.519 [WARN]  Disconnected from WebSocket server
{
  "reason": "transport close",
  "reconnectAttempts": 0
}
2025-08-23 19:32:08.011 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 19:32:11.876 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-23 19:32:36.502 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-23 19:33:01.536 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-23 19:33:08.071 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 19:33:26.570 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-23 19:33:51.601 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-23 19:34:08.116 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:34:16.630 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-23 19:34:41.654 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-23 19:35:06.685 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 8,
  "maxAttempts": 10
}
2025-08-23 19:35:08.164 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:35:09.589 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:35:31.701 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 9,
  "maxAttempts": 10
}
t-20241022",
  "previousProvider": null
}
2025-08-23 21:35:09.936 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:35:09.936 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:35:09.938 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:35:09.938 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:35:09.964 [INFO]  Connected to WebSocket server
{
  "socketId": "kYYNIPQjw_T1mWxDAAAD"
}
2025-08-23 21:35:09.965 [INFO]  WebSocket client connected successfully
2025-08-23 21:35:09.965 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "f30a7c22-61d7-4d41-b569-8bc66d851c87"
}
2025-08-23 21:35:09.966 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:35:31.813 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 21:35:32.070 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-23 21:35:32.071 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:35:32.072 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:35:32.074 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:35:32.074 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:35:32.098 [INFO]  Connected to WebSocket server
{
  "socketId": "ymF3Dn-tTQ0w9hKdAAAF"
}
2025-08-23 21:35:32.098 [INFO]  WebSocket client connected successfully
2025-08-23 21:35:32.098 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "8adac67a-3986-4a28-926d-93877288c3aa"
}
2025-08-23 21:35:32.099 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:35:43.403 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:35:56.740 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 10,
  "maxAttempts": 10
}
2025-08-23 19:36:08.212 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
 "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-23 21:35:43.644 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-23 21:35:43.646 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-23 21:35:43.647 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-23 21:35:43.669 [INFO]  Connected to WebSocket server
{
  "socketId": "zm_7f29IZg-jLa4UAAAH"
}
2025-08-23 21:35:43.669 [INFO]  WebSocket client connected successfully
2025-08-23 21:35:43.674 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "bec2c06f-a63b-47c4-9fd8-c3f39f295a8c"
}
2025-08-23 21:35:43.674 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-23 21:36:09.433 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-23 19:37:08.271 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:37:09.826 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms"
}
2025-08-23 19:37:09.831 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 404,
  "duration": "2ms"
}
2025-08-23 19:37:09.844 [INFO]  Chat request received
{
  "sessionId": "test-session-123",
  "messageLength": 19
}
2025-08-23 19:37:09.847 [INFO] [5ad39e4f] 🎯 Starting orchestration request
{
  "sessionId": "test-session-123",
  "userInput": "Hello, test message",
  "inputLength": 19
}
2025-08-23 19:37:09.847 [DEBUG]  Determining execution strategy
{
  "userInput": "Hello, test message",
  "inputLength": 19
}
2025-08-23 19:37:09.848 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 19:37:09.848 [INFO] [5ad39e4f] 📋 Strategy determined
{
  "sessionId": "test-session-123",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 19:37:09.848 [INFO]  Discovering MCP tools from servers
2025-08-23 19:37:09.848 [INFO]  Keycloak MCP client initialized
{
  "url": "http://keycloak-mcp:8001"
}
2025-08-23 19:37:09.849 [INFO]  Neo4j MCP client initialized
{
  "url": "http://neo4j-mcp:8002"
}
2025-08-23 19:37:09.849 [DEBUG]  Listing tools for keycloak
2025-08-23 19:37:09.849 [DEBUG]  Listing tools for neo4j
2025-08-23 19:37:09.849 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 19:37:09.849 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-23 19:37:09.850 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 19:37:09.851 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-23 19:37:09.851 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-23 19:37:09.851 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-23 19:37:09.852 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 19:37:09.852 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-23 19:37:09.853 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 19:37:09.853 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-23 19:37:09.854 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-23 19:37:09.854 [INFO] [5ad39e4f] 🛠️ Tools selected for request
{
  "sessionId": "test-session-123",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 19:37:09.854 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 19:37:09.855 [INFO] [5ad39e4f] 🧠 Sending request to Gemini Hello, test message
{
  "sessionId": "test-session-123",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-23 19:37:12.761 [INFO] [5ad39e4f] 🎭 LLM response received
{
  "sessionId": "test-session-123",
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "hasResponse": true,
  "responseLength": 134,
  "hasFunctionCalls": false,
  "functionCallCount": 0,
  "functionNames": []
}
2025-08-23 19:37:12.762 [INFO] [5ad39e4f] 📊 Data aggregation completed
{
  "sessionId": "test-session-123",
  "totalIterations": 0,
  "toolResultsCount": 0,
  "aggregatedDataKeys": [],
  "totalToolsCalled": 0,
  "dataTypes": []
}
2025-08-23 19:37:12.762 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 0
}
2025-08-23 19:37:12.762 [INFO] [5ad39e4f] ✅ Orchestration request completed successfully
{
  "sessionId": "test-session-123",
  "duration": "2915ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 0,
  "finalResponseLength": 134,
  "dataKeys": [],
  "success": true
}
2025-08-23 19:37:12.762 [INFO]  Chat request processed
{
  "sessionId": "test-session-123",
  "success": true,
  "duration": "2915ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 19:37:12.763 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "2920ms"
}
2025-08-23 19:38:07.925 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "node"
}
2025-08-23 19:38:07.933 [INFO]  Chat request received
{
  "sessionId": "test-text-1755977887930",
  "messageLength": 33
}
2025-08-23 19:38:07.936 [INFO] [56632f02] 🎯 Starting orchestration request
{
  "sessionId": "test-text-1755977887930",
  "userInput": "Hey Keycloak, zeige alle Benutzer",
  "inputLength": 33
}
2025-08-23 19:38:07.937 [DEBUG]  Determining execution strategy
{
  "userInput": "Hey Keycloak, zeige alle Benutzer",
  "inputLength": 33
}
2025-08-23 19:38:07.937 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 19:38:07.937 [INFO] [56632f02] 📋 Strategy determined
{
  "sessionId": "test-text-1755977887930",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 19:38:07.937 [DEBUG]  Returning cached MCP tools
2025-08-23 19:38:07.937 [INFO] [56632f02] 🛠️ Tools selected for request
{
  "sessionId": "test-text-1755977887930",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 19:38:07.938 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 19:38:07.938 [INFO] [56632f02] 🧠 Sending request to Gemini Hey Keycloak, zeige alle Benutzer
{
  "sessionId": "test-text-1755977887930",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-23 19:38:08.299 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:38:09.552 [INFO] [56632f02] 🎭 LLM response received
{
  "sessionId": "test-text-1755977887930",
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "hasResponse": false,
  "responseLength": 0,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "list-users"
  ]
}
2025-08-23 19:38:09.553 [INFO] [56632f02] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "test-text-1755977887930",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-23 19:38:09.555 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-23 19:38:09.556 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 19:38:09.735 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-23 19:38:09.735 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 19:38:13.228 [INFO] [56632f02] ✅ Gemini finished calling functions
{
  "sessionId": "test-text-1755977887930",
  "iteration": 1,
  "totalToolsCalled": 1
}
2025-08-23 19:38:13.229 [INFO] [56632f02] 📊 Data aggregation completed
{
  "sessionId": "test-text-1755977887930",
  "totalIterations": 1,
  "toolResultsCount": 1,
  "aggregatedDataKeys": [
    "users"
  ],
  "totalToolsCalled": 1,
  "dataTypes": [
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-23 19:38:13.229 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 1
}
2025-08-23 19:38:13.229 [INFO] [56632f02] ✅ Orchestration request completed successfully
{
  "sessionId": "test-text-1755977887930",
  "duration": "5293ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 1,
  "finalResponseLength": 228,
  "dataKeys": [
    "users"
  ],
  "success": true
}
2025-08-23 19:38:13.230 [INFO]  Chat request processed
{
  "sessionId": "test-text-1755977887930",
  "success": true,
  "duration": "5293ms",
  "toolsUsed": 1,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 19:38:13.231 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "5297ms",
  "userAgent": "node"
}
2025-08-23 19:38:13.240 [INFO]  Chat request received
{
  "sessionId": "test-english-1755977893235",
  "messageLength": 37
}
2025-08-23 19:38:13.245 [INFO] [b22a5348] 🎯 Starting orchestration request
{
  "sessionId": "test-english-1755977893235",
  "userInput": "Show me all users in the master realm",
  "inputLength": 37
}
2025-08-23 19:38:13.246 [DEBUG]  Determining execution strategy
{
  "userInput": "Show me all users in the master realm",
  "inputLength": 37
}
2025-08-23 19:38:13.246 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-23 19:38:13.247 [INFO] [b22a5348] 📋 Strategy determined
{
  "sessionId": "test-english-1755977893235",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-23 19:38:13.247 [DEBUG]  Returning cached MCP tools
2025-08-23 19:38:13.247 [INFO] [b22a5348] 🛠️ Tools selected for request
{
  "sessionId": "test-english-1755977893235",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-23 19:38:13.247 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-23 19:38:13.247 [INFO] [b22a5348] 🧠 Sending request to Gemini Show me all users in the master realm
{
  "sessionId": "test-english-1755977893235",
  "toolCount": 11,
  "functionCallingMode": "AUTO",
  "context": {
    "language": "en"
  }
}
2025-08-23 19:38:15.021 [INFO] [b22a5348] 🎭 LLM response received
{
  "sessionId": "test-english-1755977893235",
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "hasResponse": false,
  "responseLength": 0,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "list-users"
  ]
}
2025-08-23 19:38:15.021 [INFO] [b22a5348] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "test-english-1755977893235",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": [
        "realm"
      ]
    }
  ]
}
2025-08-23 19:38:15.022 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {
    "realm": "master"
  }
}
2025-08-23 19:38:15.023 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-23 19:38:15.206 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-23 19:38:15.207 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-23 19:38:18.706 [INFO] [b22a5348] ✅ Gemini finished calling functions
{
  "sessionId": "test-english-1755977893235",
  "iteration": 1,
  "totalToolsCalled": 1
}
2025-08-23 19:38:18.706 [INFO] [b22a5348] 📊 Data aggregation completed
{
  "sessionId": "test-english-1755977893235",
  "totalIterations": 1,
  "toolResultsCount": 1,
  "aggregatedDataKeys": [
    "users"
  ],
  "totalToolsCalled": 1,
  "dataTypes": [
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-23 19:38:18.706 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 1
}
2025-08-23 19:38:18.707 [INFO] [b22a5348] ✅ Orchestration request completed successfully
{
  "sessionId": "test-english-1755977893235",
  "duration": "5462ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 1,
  "finalResponseLength": 496,
  "dataKeys": [
    "users"
  ],
  "success": true
}
2025-08-23 19:38:18.707 [INFO]  Chat request processed
{
  "sessionId": "test-english-1755977893235",
  "success": true,
  "duration": "5462ms",
  "toolsUsed": 1,
  "strategy": "coordinated_multi_mcp"
}
2025-08-23 19:38:18.708 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "5468ms",
  "userAgent": "node"
}
2025-08-23 19:39:08.354 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:40:08.399 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:41:08.458 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 19:42:08.501 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:43:08.547 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-23 19:44:08.603 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:45:08.657 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:46:08.705 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:47:08.755 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:48:08.794 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:49:08.834 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:50:08.875 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:51:08.900 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:52:08.951 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:53:09.003 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:54:09.058 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:55:09.114 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:56:09.173 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:57:09.225 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 19:58:09.275 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 19:59:09.324 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:00:09.381 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:01:09.430 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:02:09.487 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:03:09.532 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:04:09.577 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:05:09.633 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:06:09.679 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:07:09.733 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:08:09.779 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:09:09.833 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:10:09.890 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:11:09.942 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:12:09.994 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:13:10.051 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:14:10.097 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:15:10.126 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "1ms",
  "userAgent": "Wget"
}
2025-08-23 20:16:10.181 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:17:10.226 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:18:10.281 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:19:10.331 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:20:10.376 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:21:10.435 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:22:10.493 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-23 20:23:10.548 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:24:10.606 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:25:10.659 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:26:10.709 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:27:10.755 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:28:10.804 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:29:10.850 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:30:10.893 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:31:10.942 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:32:10.996 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:33:11.046 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:34:11.093 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:35:11.139 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 20:36:11.186 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:37:11.232 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:38:11.277 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:39:11.330 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:40:11.391 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:41:11.433 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:42:11.489 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:43:11.542 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:44:11.601 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 20:45:11.653 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:46:11.709 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:47:11.752 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 20:48:11.812 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:49:11.870 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:50:11.913 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:51:11.965 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:52:12.011 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 20:53:12.055 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:54:12.105 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:55:12.141 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 20:56:12.188 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 20:57:12.245 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:58:12.295 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 20:59:12.336 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:00:12.383 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:01:12.433 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:02:12.495 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:03:12.543 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:04:12.594 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:05:12.654 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:06:12.705 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:07:12.759 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:08:12.811 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:09:12.861 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:10:12.905 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:11:12.961 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:12:13.016 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:13:13.069 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:14:13.111 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:15:13.162 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:16:13.226 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:17:13.279 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:18:13.344 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 21:19:13.395 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:20:13.443 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:21:13.497 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:22:13.546 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:23:13.596 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:24:13.642 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:25:13.691 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:26:13.721 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:27:13.767 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:28:13.819 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:29:13.876 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:30:13.926 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:31:13.973 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:32:14.033 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:33:14.085 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:34:14.127 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 21:35:14.163 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:36:14.213 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:37:14.257 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:38:14.303 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:39:14.358 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 21:40:14.404 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:41:14.460 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:42:14.508 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:43:14.570 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:44:14.601 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "1ms",
  "userAgent": "Wget"
}
2025-08-23 21:45:14.650 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:46:14.695 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:47:14.754 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:48:14.805 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:49:14.856 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:50:14.909 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:51:14.961 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:52:15.022 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 21:53:15.083 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 21:54:15.130 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:55:15.191 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:56:15.238 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:57:15.290 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 21:58:15.335 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 21:59:15.388 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:00:15.454 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:01:15.514 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:02:15.562 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:03:15.619 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:04:15.677 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:05:15.723 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:06:15.772 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 22:07:15.821 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:08:15.877 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:09:15.916 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 22:10:15.958 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:11:16.009 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:12:16.066 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:13:16.117 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:14:16.172 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:15:16.233 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:16:16.292 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:17:16.335 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:18:16.387 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:19:16.433 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:20:16.492 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:21:16.548 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:22:16.613 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 22:23:16.673 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:24:16.721 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:25:16.772 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:26:16.824 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:27:16.880 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:28:16.932 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:29:16.987 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:30:17.041 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:31:17.086 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:32:17.137 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:33:17.183 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:34:17.241 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:35:17.291 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:36:17.348 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:37:17.400 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:38:17.448 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:39:17.503 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:40:17.555 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:41:17.612 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:42:17.670 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:43:17.723 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 22:44:17.773 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:45:17.831 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:46:17.866 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:47:17.910 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:48:17.971 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:49:18.032 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:50:18.087 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:51:18.141 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:52:18.195 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:53:18.247 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 22:54:18.303 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:55:18.353 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:56:18.414 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 22:57:18.461 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 22:58:18.506 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 22:59:18.568 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:00:18.626 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:01:18.673 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:02:18.726 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:03:18.764 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:04:18.820 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:05:18.875 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:06:18.931 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:07:18.986 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:08:19.039 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:09:19.086 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:10:19.135 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:11:19.188 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:12:19.239 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:13:19.270 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:14:19.326 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:15:19.383 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:16:19.437 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:17:19.492 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:18:19.546 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:19:19.611 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:20:19.668 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:21:19.741 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:22:19.794 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:23:19.842 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:24:19.883 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:25:19.950 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:26:19.996 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:27:20.053 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:28:20.117 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:29:20.167 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:30:20.223 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:31:20.248 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:32:20.310 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:33:20.378 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:34:20.437 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:35:20.492 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:36:20.545 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:37:20.593 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:38:20.648 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:39:20.709 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:40:20.762 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:41:20.815 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:42:20.870 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:43:20.928 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:44:20.968 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:45:21.021 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:46:21.068 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:47:21.129 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:48:21.191 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-23 23:49:21.221 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:50:21.276 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:51:21.325 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:52:21.365 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:53:21.398 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:54:21.441 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:55:21.488 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:56:21.539 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-23 23:57:21.586 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-23 23:58:21.634 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-23 23:59:21.681 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:00:21.737 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:01:21.789 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:02:21.831 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:03:21.869 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:04:21.913 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:05:21.959 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:06:22.014 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 00:07:22.061 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:08:22.110 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:09:22.154 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:10:22.213 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:11:22.264 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:12:22.313 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:13:22.355 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:14:22.405 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:15:22.448 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:16:22.496 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:17:22.550 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:18:22.608 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:19:22.670 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:20:22.724 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:21:22.771 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:22:22.827 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:23:22.884 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:24:22.931 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:25:22.992 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:26:23.044 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:27:23.087 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:28:23.137 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:29:23.187 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:30:23.243 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:31:23.298 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:32:23.357 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:33:23.419 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:34:23.481 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:35:23.534 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:36:23.590 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:37:23.641 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:38:23.682 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 00:39:23.729 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:40:23.768 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:41:23.816 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:42:23.848 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:43:23.895 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:44:23.955 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:45:24.002 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:46:24.053 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:47:24.102 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 00:48:24.141 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:49:24.200 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:50:24.249 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:51:24.290 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:52:24.327 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:53:24.374 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:54:24.420 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:55:24.466 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 00:56:24.507 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:57:24.553 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:58:24.581 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 00:59:24.628 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 01:00:44.347 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "105ms",
  "userAgent": "Wget"
}
2025-08-24 06:03:08.263 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "8ms",
  "userAgent": "Wget"
}
2025-08-24 06:19:06.582 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 06:20:06.627 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 06:21:06.688 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 06:22:06.738 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 06:38:04.750 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 06:54:02.346 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 07:24:56.977 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 07:25:57.004 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 07:57:09.144 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 07:58:09.182 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:10:06.201 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:11:06.262 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:12:06.312 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 08:13:06.350 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:14:06.408 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-24 08:15:06.453 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:16:06.496 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:17:06.536 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:18:06.588 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:19:06.640 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:20:06.692 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:21:06.742 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:22:06.799 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:23:06.844 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:24:06.887 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:25:06.934 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:26:06.965 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:27:07.010 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:28:07.056 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:29:07.117 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:30:07.183 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:31:07.244 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:32:07.273 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:33:07.319 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:34:07.366 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:35:07.404 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:36:07.454 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:37:07.497 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:38:07.536 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:39:07.575 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 08:40:07.617 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:41:07.660 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:42:07.688 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:43:07.716 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:44:07.745 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:45:07.786 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:46:07.809 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "1ms",
  "userAgent": "Wget"
}
2025-08-24 08:47:07.850 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "1ms",
  "userAgent": "Wget"
}
2025-08-24 08:48:07.889 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 08:49:07.918 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:50:07.950 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:51:07.976 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "1ms",
  "userAgent": "Wget"
}
2025-08-24 08:52:08.007 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:53:08.040 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 08:54:08.091 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:02:01.204 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:02:26.676 [INFO]  Received SIGTERM, shutting down gracefully
 "3b53b3ef-50ca-45af-8ed4-06247e23af2d"
}
2025-08-24 10:54:56.145 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 11:03:16.297 [DEBUG]  Received WebSocket event
{
  "eventId": "719f5803-b195-4a7c-a78b-6b0bd1d01018",
  "eventType": "voice:command",
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7"
}
2025-08-24 11:03:16.298 [INFO]  Processing voice command
{
  "command": "sync initial system data",
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "confidence": 1
}
2025-08-24 11:03:16.304 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-24 11:03:16.305 [INFO] [1f3d45f6] 🎯 Starting orchestration request
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "userInput": "sync initial system data",
  "inputLength": 24,
  "context": {
    "source": "voice",
    "confidence": 1,
    "language": "de-DE"
  }
}
2025-08-24 11:03:16.306 [DEBUG]  Determining execution strategy
{
  "userInput": "sync initial system data",
  "inputLength": 24
}
2025-08-24 11:03:16.306 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 11:03:16.306 [INFO] [1f3d45f6] 📋 Strategy determined
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 11:03:16.306 [INFO]  Discovering MCP tools from servers
2025-08-24 11:03:16.306 [DEBUG]  Listing tools for keycloak
2025-08-24 11:03:16.307 [DEBUG]  Listing tools for neo4j
2025-08-24 11:03:16.307 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:03:16.307 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:03:16.313 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:03:16.314 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-24 11:03:16.314 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:03:16.315 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-24 11:03:16.315 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:03:16.315 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:03:16.318 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:03:16.319 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:03:16.319 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 11:03:16.319 [INFO] [1f3d45f6] 🛠️ Tools selected for request
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 11:03:16.320 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 11:03:16.320 [INFO] [1f3d45f6] 🧠 Sending request to Gemini sync initial system data
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-24 11:03:16.320 [DEBUG] [2e288925] Sending chat request to Anthropic
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 24,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 11:03:19.071 [INFO] [2e288925] Anthropic chat completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 400,
  "usage": {
    "promptTokens": 1985,
    "completionTokens": 146,
    "totalTokens": 2131
  }
}
2025-08-24 11:03:19.071 [INFO] [1f3d45f6] 🎭 LLM response received
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 400,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-24 11:03:19.071 [INFO] [1f3d45f6] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 11:03:19.071 [INFO] [b0f22e5e] Processing function calls via Anthropic
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "functionCallsCount": 1
}
2025-08-24 11:03:19.072 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 11:03:19.072 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:03:19.119 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 11:03:19.121 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:03:19.121 [DEBUG] [b0f22e5e] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1664
}
2025-08-24 11:03:20.640 [INFO] [b0f22e5e] Function call processing completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "duration": 1569,
  "additionalFunctionCalls": 1
}
2025-08-24 11:03:20.640 [INFO] [1f3d45f6] 🔧 Gemini requested more function calls
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-24 11:03:20.641 [INFO] [1f3d45f6] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 11:03:20.641 [INFO] [2417b87e] Processing function calls via Anthropic
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "functionCallsCount": 1
}
2025-08-24 11:03:20.641 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 11:03:20.641 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:03:20.944 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 11:03:20.945 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:03:20.946 [DEBUG] [2417b87e] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 11:03:22.105 [INFO] [2417b87e] Function call processing completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "duration": 1463,
  "additionalFunctionCalls": 1
}
2025-08-24 11:03:22.105 [INFO] [1f3d45f6] 🔧 Gemini requested more function calls
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 11:03:22.105 [INFO] [1f3d45f6] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 11:03:22.106 [INFO] [61b53697] Processing function calls via Anthropic
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "functionCallsCount": 1
}
2025-08-24 11:03:22.106 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 11:03:22.106 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:03:22.328 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 11:03:22.329 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:03:22.329 [DEBUG] [61b53697] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 11:03:25.112 [INFO] [61b53697] Function call processing completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "duration": 3005,
  "additionalFunctionCalls": 1
}
2025-08-24 11:03:25.112 [INFO] [1f3d45f6] 🔧 Gemini requested more function calls
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:03:25.112 [INFO] [1f3d45f6] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:03:25.113 [INFO] [9da87c2e] Processing function calls via Anthropic
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "functionCallsCount": 1
}
2025-08-24 11:03:25.113 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true"
  }
}
2025-08-24 11:03:25.113 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:03:25.190 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:03:25.191 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:03:25.191 [DEBUG] [9da87c2e] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-24 11:03:29.718 [INFO] [9da87c2e] Function call processing completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "duration": 4605,
  "additionalFunctionCalls": 1
}
2025-08-24 11:03:29.719 [INFO] [1f3d45f6] 🔧 Gemini requested more function calls
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:03:29.719 [INFO] [1f3d45f6] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:03:29.719 [INFO] [74396f5d] Processing function calls via Anthropic
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "functionCallsCount": 1
}
2025-08-24 11:03:29.719 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "UNWIND [\n  {\n    id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae',\n    username: 'admin',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755611843167,\n    realm: 'master'\n  },\n  {\n    id: '6189b406-e03d-4db5-82d7-285b279cd243',\n    username: 'jane.smith.test',\n    email: 'jane.smith@ikas-test.com',\n    firstName: 'Jane',\n    lastName: 'Smith',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755976235457,\n    realm: 'master'\n  }\n] AS userData\nMERGE (u:User {id: userData.id})\nSET u += userData,\n    u.lastSync = timestamp()\nWITH u, userData\nMATCH (r:Realm {name: userData.realm})\nMERGE (u)-[:BELONGS_TO]->(r)"
  }
}
2025-08-24 11:03:29.720 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:03:29.884 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:03:29.885 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:03:29.885 [DEBUG] [74396f5d] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 340
}
2025-08-24 11:03:31.971 [INFO] [74396f5d] Function call processing completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "duration": 2251,
  "additionalFunctionCalls": 1
}
2025-08-24 11:03:31.971 [INFO] [1f3d45f6] 🔧 Gemini requested more function calls
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 11:03:31.971 [WARN] [1f3d45f6] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 11:03:31.971 [INFO] [1f3d45f6] 📊 Data aggregation completed
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 11:03:31.972 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 11:03:31.972 [INFO] [1f3d45f6] ✅ Orchestration request completed successfully
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "duration": "15667ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 60,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-24 11:03:31.973 [DEBUG]  Sent voice response
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "success": true
}
2025-08-24 11:03:31.973 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "hasData": true,
  "dataKeys": [
    "realms",
    "users",
    "usage",
    "finishReason"
  ],
  "dataCount": 4
}
2025-08-24 11:03:31.973 [DEBUG]  📦 Sending data update
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "dataType": "realms",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:03:31.973 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "dataType": "realms",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 140,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "realms"
  ]
}
2025-08-24 11:03:31.973 [DEBUG]  📦 Sending data update
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "dataType": "users",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:03:31.973 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "dataType": "users",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 389,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "users"
  ]
}
2025-08-24 11:03:31.974 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-24 11:03:31.974 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "06c650b5-653c-4aca-929d-c5a4188175d7",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-24 09:08:42.734 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-24 09:08:42.735 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:08:42.735 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-24 09:08:42.739 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 09:08:42.740 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 09:08:47.291 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "15ms",
  "userAgent": "Wget"
}
2025-08-24 09:08:52.346 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-24 09:08:57.394 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:09:02.454 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-24 09:09:02.748 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-24 09:09:07.510 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-24 09:09:12.564 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:09:24.081 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-24 09:09:43.029 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:09:49.105 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-24 09:10:12.622 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:10:14.120 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-24 09:10:22.219 [DEBUG]  Available models request received
2025-08-24 09:10:22.219 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:10:24.157 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:10:24.212 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:10:24.212 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:10:24.212 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:10:24.212 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "gemini"
}
2025-08-24 09:10:24.213 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "1995ms",
  "userAgent": "Wget"
}
2025-08-24 09:10:39.145 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-24 09:11:04.166 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-24 09:11:12.672 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:11:29.185 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-24 09:11:54.212 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 8,
  "maxAttempts": 10
}
2025-08-24 09:12:12.732 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:12:19.222 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 9,
  "maxAttempts": 10
}
2025-08-24 09:12:40.628 [DEBUG]  Available models request received
2025-08-24 09:12:40.629 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:12:42.595 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:12:42.634 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:12:42.634 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:12:42.634 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:12:42.635 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "gemini"
}
2025-08-24 09:12:42.637 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "2009ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:12:44.234 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 10,
  "maxAttempts": 10
}
2025-08-24 09:12:44.237 [ERROR]  Failed to connect WebSocket client
{
  "error": "Failed to connect after 10 attempts"
}
2025-08-24 09:12:52.695 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:12:52.710 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:13:09.243 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 11,
  "maxAttempts": 10
}
2025-08-24 09:13:12.778 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:13:22.693 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "9ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:13:28.201 [DEBUG]  Available models request received
2025-08-24 09:13:28.202 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:13:31.845 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:13:31.883 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:13:31.884 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:13:31.884 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:13:31.884 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "gemini"
}
2025-08-24 09:13:31.886 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "3685ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:13:41.944 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "10ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:13:41.956 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:14:11.938 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:14:12.827 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:14:41.936 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:15:10.846 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:15:11.943 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:15:12.868 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:15:41.940 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:15:51.338 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/live",
  "status": 200,
  "duration": "0ms",
  "userAgent": "Wget"
}
2025-08-24 09:16:11.940 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:16:12.912 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:16:41.943 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:17:11.940 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:17:12.964 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 503,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:17:34.411 [INFO]  Received SIGTERM, shutting down gracefully
allCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-24 11:12:47.811 [INFO] [1822384f] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 11:12:47.811 [INFO] [593d992a] Processing function calls via Anthropic
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "functionCallsCount": 1
}
2025-08-24 11:12:47.811 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 11:12:47.812 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:12:47.978 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 11:12:47.980 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:12:47.980 [DEBUG] [593d992a] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1665
}
2025-08-24 11:12:49.442 [INFO] [593d992a] Function call processing completed
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "duration": 1631,
  "additionalFunctionCalls": 1
}
2025-08-24 11:12:49.442 [INFO] [1822384f] 🔧 Gemini requested more function calls
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-24 11:12:49.443 [INFO] [1822384f] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 11:12:49.443 [INFO] [c695506b] Processing function calls via Anthropic
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "functionCallsCount": 1
}
2025-08-24 11:12:49.443 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 11:12:49.444 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:12:50.151 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 11:12:50.152 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:12:50.152 [DEBUG] [c695506b] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 11:12:51.599 [INFO] [c695506b] Function call processing completed
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "duration": 2156,
  "additionalFunctionCalls": 1
}
2025-08-24 11:12:51.599 [INFO] [1822384f] 🔧 Gemini requested more function calls
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 11:12:51.599 [INFO] [1822384f] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 11:12:51.600 [INFO] [bb0ed543] Processing function calls via Anthropic
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "functionCallsCount": 1
}
2025-08-24 11:12:51.600 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 11:12:51.600 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:12:51.834 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 11:12:51.835 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:12:51.835 [DEBUG] [bb0ed543] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 11:12:54.670 [INFO] [bb0ed543] Function call processing completed
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "duration": 3070,
  "additionalFunctionCalls": 1
}
2025-08-24 11:12:54.670 [INFO] [1822384f] 🔧 Gemini requested more function calls
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:12:54.670 [INFO] [1822384f] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:12:54.670 [INFO] [0530c931] Processing function calls via Anthropic
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "functionCallsCount": 1
}
2025-08-24 11:12:54.670 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true"
  }
}
2025-08-24 11:12:54.671 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:12:54.821 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:12:54.822 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:12:54.823 [DEBUG] [0530c931] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 339
}
2025-08-24 11:12:59.330 [INFO] [0530c931] Function call processing completed
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "duration": 4660,
  "additionalFunctionCalls": 1
}
2025-08-24 11:12:59.332 [INFO] [1822384f] 🔧 Gemini requested more function calls
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:12:59.332 [INFO] [1822384f] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:12:59.332 [INFO] [c4e9c1da] Processing function calls via Anthropic
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "functionCallsCount": 1
}
2025-08-24 11:12:59.332 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "UNWIND [\n  {\n    id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae',\n    username: 'admin',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755611843167,\n    realm: 'master'\n  },\n  {\n    id: '6189b406-e03d-4db5-82d7-285b279cd243',\n    username: 'jane.smith.test',\n    email: 'jane.smith@ikas-test.com',\n    firstName: 'Jane',\n    lastName: 'Smith',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755976235457,\n    realm: 'master'\n  }\n] AS userData\nMERGE (u:User {id: userData.id})\nSET u += userData,\n    u.lastSync = timestamp()\nWITH u, userData\nMATCH (r:Realm {name: userData.realm})\nMERGE (u)-[:BELONGS_TO]->(r)"
  }
}
2025-08-24 11:12:59.333 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:12:59.545 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:12:59.546 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:12:59.547 [DEBUG] [c4e9c1da] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 340
}
2025-08-24 11:13:01.940 [INFO] [c4e9c1da] Function call processing completed
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "duration": 2608,
  "additionalFunctionCalls": 1
}
2025-08-24 11:13:01.941 [INFO] [1822384f] 🔧 Gemini requested more function calls
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 11:13:01.941 [WARN] [1822384f] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 11:13:01.941 [INFO] [1822384f] 📊 Data aggregation completed
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 11:13:01.942 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 11:13:01.942 [INFO] [1822384f] ✅ Orchestration request completed successfully
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "duration": "18275ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 60,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-24 11:13:01.942 [DEBUG]  Sent voice response
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "success": true
}
2025-08-24 11:13:01.943 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "hasData": true,
  "dataKeys": [
    "realms",
    "users",
    "usage",
    "finishReason"
  ],
  "dataCount": 4
}
2025-08-24 11:13:01.943 [DEBUG]  📦 Sending data update
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "dataType": "realms",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:13:01.943 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "dataType": "realms",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 140,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "realms"
  ]
}
2025-08-24 11:13:01.943 [DEBUG]  📦 Sending data update
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "dataType": "users",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:13:01.946 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "dataType": "users",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 389,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "users"
  ]
}
2025-08-24 11:13:01.946 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-24 11:13:01.946 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "4d83ce5a-ff91-4412-ae5e-e3b616c65ff6",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-24 11:13:32.912 [DEBUG]  Received WebSocket event
{
  "eventId": "7ca1c029-bba5-4157-8772-0c2ceff21686",
  "eventType": "voice:command",
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc"
}
2025-08-24 11:13:32.913 [INFO]  Processing voice command
{
  "command": "sync initial system data",
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "confidence": 1
}
2025-08-24 11:13:32.916 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-24 11:13:32.917 [INFO] [a92ae5bc] 🎯 Starting orchestration request
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "userInput": "sync initial system data",
  "inputLength": 24,
  "context": {
    "source": "voice",
    "confidence": 1,
    "language": "de-DE"
  }
}
2025-08-24 11:13:32.917 [DEBUG]  Determining execution strategy
{
  "userInput": "sync initial system data",
  "inputLength": 24
}
2025-08-24 11:13:32.917 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 11:13:32.917 [INFO] [a92ae5bc] 📋 Strategy determined
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 11:13:32.918 [INFO]  Discovering MCP tools from servers
2025-08-24 11:13:32.918 [DEBUG]  Listing tools for keycloak
2025-08-24 11:13:32.918 [DEBUG]  Listing tools for neo4j
2025-08-24 11:13:32.918 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:13:32.918 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:13:32.926 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:13:32.926 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-24 11:13:32.927 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:13:32.927 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-24 11:13:32.927 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:13:32.927 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:13:32.931 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:13:32.932 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:13:32.932 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 11:13:32.932 [INFO] [a92ae5bc] 🛠️ Tools selected for request
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 11:13:32.932 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 11:13:32.932 [INFO] [a92ae5bc] 🧠 Sending request to Gemini sync initial system data
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-24 11:13:32.932 [DEBUG] [a107bb34] Sending chat request to Anthropic
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 24,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 11:13:35.707 [INFO] [a107bb34] Anthropic chat completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 400,
  "usage": {
    "promptTokens": 1985,
    "completionTokens": 147,
    "totalTokens": 2132
  }
}
2025-08-24 11:13:35.707 [INFO] [a92ae5bc] 🎭 LLM response received
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 400,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-24 11:13:35.708 [INFO] [a92ae5bc] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 11:13:35.708 [INFO] [5f09e85f] Processing function calls via Anthropic
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "functionCallsCount": 1
}
2025-08-24 11:13:35.708 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 11:13:35.708 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:13:35.741 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 11:13:35.742 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:13:35.743 [DEBUG] [5f09e85f] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1664
}
2025-08-24 11:13:37.269 [INFO] [5f09e85f] Function call processing completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "duration": 1561,
  "additionalFunctionCalls": 1
}
2025-08-24 11:13:37.269 [INFO] [a92ae5bc] 🔧 Gemini requested more function calls
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-24 11:13:37.269 [INFO] [a92ae5bc] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 11:13:37.269 [INFO] [5756e9e2] Processing function calls via Anthropic
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "functionCallsCount": 1
}
2025-08-24 11:13:37.270 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 11:13:37.270 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:13:37.482 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 11:13:37.483 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:13:37.483 [DEBUG] [5756e9e2] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 11:13:39.047 [INFO] [5756e9e2] Function call processing completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "duration": 1778,
  "additionalFunctionCalls": 1
}
2025-08-24 11:13:39.047 [INFO] [a92ae5bc] 🔧 Gemini requested more function calls
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 11:13:39.048 [INFO] [a92ae5bc] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 11:13:39.048 [INFO] [c4580c49] Processing function calls via Anthropic
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "functionCallsCount": 1
}
2025-08-24 11:13:39.048 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 11:13:39.048 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:13:39.267 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 11:13:39.268 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:13:39.268 [DEBUG] [c4580c49] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 11:13:42.390 [INFO] [c4580c49] Function call processing completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "duration": 3342,
  "additionalFunctionCalls": 1
}
2025-08-24 11:13:42.390 [INFO] [a92ae5bc] 🔧 Gemini requested more function calls
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:13:42.390 [INFO] [a92ae5bc] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:13:42.391 [INFO] [4292ac3b] Processing function calls via Anthropic
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "functionCallsCount": 1
}
2025-08-24 11:13:42.391 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true"
  }
}
2025-08-24 11:13:42.391 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:13:42.413 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:13:42.413 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:13:42.414 [DEBUG] [4292ac3b] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-24 11:13:47.204 [INFO] [4292ac3b] Function call processing completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "duration": 4813,
  "additionalFunctionCalls": 1
}
2025-08-24 11:13:47.205 [INFO] [a92ae5bc] 🔧 Gemini requested more function calls
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:13:47.205 [INFO] [a92ae5bc] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:13:47.205 [INFO] [8c41ce54] Processing function calls via Anthropic
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "functionCallsCount": 1
}
2025-08-24 11:13:47.205 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "UNWIND [\n  {\n    id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae',\n    username: 'admin',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755611843167,\n    realm: 'master'\n  },\n  {\n    id: '6189b406-e03d-4db5-82d7-285b279cd243',\n    username: 'jane.smith.test',\n    email: 'jane.smith@ikas-test.com',\n    firstName: 'Jane',\n    lastName: 'Smith',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755976235457,\n    realm: 'master'\n  }\n] AS userData\nMERGE (u:User {id: userData.id})\nSET u += userData,\n    u.lastSync = timestamp()\nWITH u, userData\nMATCH (r:Realm {name: userData.realm})\nMERGE (u)-[:BELONGS_TO]->(r)"
  }
}
2025-08-24 11:13:47.206 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:13:47.229 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:13:47.230 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:13:47.231 [DEBUG] [8c41ce54] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 339
}
2025-08-24 11:13:49.967 [INFO] [8c41ce54] Function call processing completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "duration": 2762,
  "additionalFunctionCalls": 1
}
2025-08-24 11:13:49.967 [INFO] [a92ae5bc] 🔧 Gemini requested more function calls
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 11:13:49.967 [WARN] [a92ae5bc] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 11:13:49.967 [INFO] [a92ae5bc] 📊 Data aggregation completed
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 11:13:49.967 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 11:13:49.968 [INFO] [a92ae5bc] ✅ Orchestration request completed successfully
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "duration": "17051ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 60,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-24 11:13:49.968 [DEBUG]  Sent voice response
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "success": true
}
2025-08-24 11:13:49.968 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "hasData": true,
  "dataKeys": [
    "realms",
    "users",
    "usage",
    "finishReason"
  ],
  "dataCount": 4
}
2025-08-24 11:13:49.968 [DEBUG]  📦 Sending data update
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "dataType": "realms",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:13:49.968 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "dataType": "realms",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 140,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "realms"
  ]
}
2025-08-24 11:13:49.970 [DEBUG]  📦 Sending data update
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "dataType": "users",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:13:49.970 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "dataType": "users",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 389,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "users"
  ]
}
2025-08-24 11:13:49.970 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-24 11:13:49.970 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "6522813a-9ff4-4f04-809e-ac7db79793cc",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-24 11:17:34.513 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 09:17:34.755 [INFO]  Creating new LLM service instance
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "previousProvider": null
}
2025-08-24 09:17:34.756 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:17:34.757 [INFO]  Orchestrator initialized
{
  "llmProvider": "gemini",
  "llmModel": "gemini-2.5-pro"
}
2025-08-24 09:17:34.762 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 09:17:34.762 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 09:17:41.963 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "24ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:17:54.779 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-24 09:17:58.770 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-24 09:18:11.944 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:18:13.001 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:18:17.354 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-24 09:18:41.945 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:18:42.369 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-24 09:19:07.388 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-24 09:19:11.944 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:19:13.053 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:19:16.901 [DEBUG]  Available models request received
2025-08-24 09:19:16.902 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:19:18.487 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:19:18.546 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:19:18.547 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:19:18.547 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:19:18.547 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "gemini"
}
2025-08-24 09:19:18.548 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "1648ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:19:28.604 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "12ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:19:28.620 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:19:32.398 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-24 09:19:57.411 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-24 09:19:58.596 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:20:13.094 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:20:22.423 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-24 09:20:28.594 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:20:47.447 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 8,
  "maxAttempts": 10
}
2025-08-24 09:20:58.594 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:21:12.451 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 9,
  "maxAttempts": 10
}
2025-08-24 09:21:13.139 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:21:28.596 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:21:37.465 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 10,
  "maxAttempts": 10
}
2025-08-24 09:21:37.466 [ERROR]  Failed to connect WebSocket client
{
  "error": "Failed to connect after 10 attempts"
}
2025-08-24 09:21:58.593 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:22:02.478 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 11,
  "maxAttempts": 10
}
2025-08-24 09:22:13.182 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:22:28.595 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:22:58.590 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:23:13.230 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:23:28.594 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:23:58.589 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:24:13.282 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 09:24:29.796 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:24:59.806 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:25:13.337 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:26:00.547 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:26:13.386 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:26:50.662 [DEBUG]  Available models request received
2025-08-24 09:26:50.662 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:26:54.875 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:26:54.933 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:26:54.934 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:26:54.935 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:26:54.935 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "gemini"
}
2025-08-24 09:26:54.936 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "4275ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:27:05.006 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:27:05.031 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:27:13.429 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:27:34.984 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:28:13.480 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:29:13.525 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:30:13.580 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:31:13.637 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:32:13.666 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 09:32:34.992 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:33:05.833 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:37:36.225 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:37:57.501 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:38:27.495 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:38:36.275 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:38:57.493 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:39:27.490 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:39:36.321 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:39:57.492 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:40:27.494 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:40:36.380 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:40:57.491 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:41:27.495 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:41:36.426 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:41:57.490 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:42:27.494 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:42:36.471 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:42:57.490 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:43:12.041 [DEBUG]  Available models request received
2025-08-24 09:43:12.042 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:43:15.039 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:43:15.079 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:43:15.080 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:43:15.080 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:43:15.082 [INFO]  Models info retrieved
{
  "availableProviders": 0,
  "currentProvider": "gemini"
}
2025-08-24 09:43:15.083 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "3042ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:43:25.140 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:43:25.154 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:43:36.513 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:43:55.133 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:44:25.135 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:44:36.559 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:44:55.137 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:45:25.133 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:45:30.413 [DEBUG]  Available models request received
2025-08-24 09:45:30.414 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "gemini-2.5-pro",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:45:36.606 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:45:41.154 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:45:41.209 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "gemini-2.5-pro",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:45:41.209 [DEBUG]  Provider anthropic not available
{
  "error": "ANTHROPIC_API_KEY is required"
}
2025-08-24 09:45:41.210 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:45:41.210 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "gemini"
}
2025-08-24 09:45:41.211 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "10798ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:46:08.345 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:46:08.356 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:46:36.654 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:47:36.711 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:48:36.756 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:49:36.809 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:50:36.861 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:51:36.912 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 09:52:36.962 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 09:53:37.002 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 09:53:40.196 [INFO]  Received SIGTERM, shutting down gracefully
,
    "confidence": 1,
    "language": "de-DE"
  }
}
2025-08-24 11:26:55.966 [DEBUG]  Determining execution strategy
{
  "userInput": "sync initial system data",
  "inputLength": 24
}
2025-08-24 11:26:55.966 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 11:26:55.966 [INFO] [0717cb9f] 📋 Strategy determined
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 11:26:55.967 [INFO]  Discovering MCP tools from servers
2025-08-24 11:26:55.967 [DEBUG]  Listing tools for keycloak
2025-08-24 11:26:55.967 [DEBUG]  Listing tools for neo4j
2025-08-24 11:26:55.968 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:26:55.968 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:26:55.976 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:26:55.977 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-24 11:26:55.978 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:26:55.978 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-24 11:26:55.979 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:26:55.979 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:26:55.982 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:26:55.983 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:26:55.983 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 11:26:55.983 [INFO] [0717cb9f] 🛠️ Tools selected for request
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 11:26:55.983 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 11:26:55.983 [INFO] [0717cb9f] 🧠 Sending request to Gemini sync initial system data
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-24 11:26:55.984 [DEBUG] [b688a627] Sending chat request to Anthropic
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 24,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 11:26:58.871 [INFO] [b688a627] Anthropic chat completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 379,
  "usage": {
    "promptTokens": 1985,
    "completionTokens": 145,
    "totalTokens": 2130
  }
}
2025-08-24 11:26:58.871 [INFO] [0717cb9f] 🎭 LLM response received
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 379,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-24 11:26:58.872 [INFO] [0717cb9f] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 11:26:58.872 [INFO] [0862866f] Processing function calls via Anthropic
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "functionCallsCount": 1
}
2025-08-24 11:26:58.873 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 11:26:58.874 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:26:58.900 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 11:26:58.902 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:26:58.903 [DEBUG] [0862866f] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1664
}
2025-08-24 11:27:00.473 [INFO] [0862866f] Function call processing completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "duration": 1601,
  "additionalFunctionCalls": 1
}
2025-08-24 11:27:00.473 [INFO] [0717cb9f] 🔧 Gemini requested more function calls
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-24 11:27:00.473 [INFO] [0717cb9f] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 11:27:00.474 [INFO] [36c19313] Processing function calls via Anthropic
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "functionCallsCount": 1
}
2025-08-24 11:27:00.474 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 11:27:00.474 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:27:00.687 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 11:27:00.688 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:27:00.688 [DEBUG] [36c19313] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 11:27:01.948 [INFO] [36c19313] Function call processing completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "duration": 1474,
  "additionalFunctionCalls": 1
}
2025-08-24 11:27:01.948 [INFO] [0717cb9f] 🔧 Gemini requested more function calls
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 11:27:01.948 [INFO] [0717cb9f] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 11:27:01.949 [INFO] [66b43f60] Processing function calls via Anthropic
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "functionCallsCount": 1
}
2025-08-24 11:27:01.949 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 11:27:01.949 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:27:02.162 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 11:27:02.163 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:27:02.164 [DEBUG] [66b43f60] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 11:27:06.341 [INFO] [66b43f60] Function call processing completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "duration": 4391,
  "additionalFunctionCalls": 1
}
2025-08-24 11:27:06.341 [INFO] [0717cb9f] 🔧 Gemini requested more function calls
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:27:06.341 [INFO] [0717cb9f] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query",
        "params"
      ]
    }
  ]
}
2025-08-24 11:27:06.341 [INFO] [0808316c] Processing function calls via Anthropic
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "functionCallsCount": 1
}
2025-08-24 11:27:06.342 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: $realmId})\nSET r.name = $realmName,\n    r.displayName = $displayName,\n    r.enabled = $enabled\nWITH r\nMATCH (u:User)\nWHERE u.realm = $realmName\nMERGE (u)-[b:BELONGS_TO]->(r)\nRETURN r.name as realm, count(u) as userCount",
    "params": {
      "realmId": "6c618ad6-25b4-4db2-91fc-511035abcaa8",
      "realmName": "master",
      "displayName": "Keycloak",
      "enabled": true
    }
  }
}
2025-08-24 11:27:06.342 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:27:06.433 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:27:06.435 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:27:06.435 [DEBUG] [0808316c] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-24 11:27:11.678 [INFO] [0808316c] Function call processing completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "duration": 5337,
  "additionalFunctionCalls": 1
}
2025-08-24 11:27:11.679 [INFO] [0717cb9f] 🔧 Gemini requested more function calls
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:27:11.679 [INFO] [0717cb9f] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query",
        "params"
      ]
    }
  ]
}
2025-08-24 11:27:11.680 [INFO] [bd4264a1] Processing function calls via Anthropic
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "functionCallsCount": 1
}
2025-08-24 11:27:11.680 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "UNWIND $users AS user\nMERGE (u:User {id: user.id})\nSET u.username = user.username,\n    u.enabled = user.enabled,\n    u.emailVerified = user.emailVerified,\n    u.createdTimestamp = user.createdTimestamp,\n    u.email = user.email,\n    u.firstName = user.firstName,\n    u.lastName = user.lastName,\n    u.realm = 'master',\n    u.lastSync = timestamp()\nWITH u\nMATCH (r:Realm {name: 'master'})\nMERGE (u)-[b:BELONGS_TO]->(r)\nRETURN count(u) as syncedUsers",
    "params": {
      "users": [
        {
          "id": "f94ecd17-ce46-4663-98e4-0137fa8d82ae",
          "username": "admin",
          "enabled": true,
          "emailVerified": false,
          "createdTimestamp": 1755611843167
        },
        {
          "id": "6189b406-e03d-4db5-82d7-285b279cd243",
          "username": "jane.smith.test",
          "email": "jane.smith@ikas-test.com",
          "firstName": "Jane",
          "lastName": "Smith",
          "enabled": true,
          "emailVerified": false,
          "createdTimestamp": 1755976235457
        }
      ]
    }
  }
}
2025-08-24 11:27:11.681 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:27:11.790 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:27:11.792 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:27:11.792 [DEBUG] [bd4264a1] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 340
}
2025-08-24 11:27:13.917 [INFO] [bd4264a1] Function call processing completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "duration": 2237,
  "additionalFunctionCalls": 1
}
2025-08-24 11:27:13.917 [INFO] [0717cb9f] 🔧 Gemini requested more function calls
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 11:27:13.918 [WARN] [0717cb9f] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 11:27:13.918 [INFO] [0717cb9f] 📊 Data aggregation completed
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 11:27:13.918 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 11:27:13.918 [INFO] [0717cb9f] ✅ Orchestration request completed successfully
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "duration": "17952ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 54,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-24 11:27:13.919 [DEBUG]  Sent voice response
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "success": true
}
2025-08-24 11:27:13.919 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "hasData": true,
  "dataKeys": [
    "realms",
    "users",
    "usage",
    "finishReason"
  ],
  "dataCount": 4
}
2025-08-24 11:27:13.919 [DEBUG]  📦 Sending data update
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "dataType": "realms",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:27:13.919 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "dataType": "realms",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 140,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "realms"
  ]
}
2025-08-24 11:27:13.920 [DEBUG]  📦 Sending data update
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "dataType": "users",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:27:13.920 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "dataType": "users",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 389,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "users"
  ]
}
2025-08-24 11:27:13.920 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-24 11:27:13.920 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "ec808a84-5d21-486a-aee3-abae1fa6cd58",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-24 11:37:27.443 [WARN]  Disconnected from WebSocket server
{
  "reason": "ping timeout",
  "reconnectAttempts": 0
}
2025-08-24 11:37:29.242 [INFO]  Connected to WebSocket server
{
  "socketId": "0DnTIekA0CPXmJxDAAAR"
}
2025-08-24 11:37:29.250 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "4259b6a6-a8b5-4acd-b769-440df1498e9e"
}
2025-08-24 11:37:29.251 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 11:43:16.105 [DEBUG]  Received WebSocket event
{
  "eventId": "fbf56b01-c656-4156-b285-5041a89c9527",
  "eventType": "voice:command",
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27"
}
2025-08-24 11:43:16.105 [INFO]  Processing voice command
{
  "command": "sync initial system data",
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "confidence": 1
}
2025-08-24 11:43:16.109 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-24 11:43:16.110 [INFO] [65d9c97f] 🎯 Starting orchestration request
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "userInput": "sync initial system data",
  "inputLength": 24,
  "context": {
    "source": "voice",
    "confidence": 1,
    "language": "de-DE"
  }
}
2025-08-24 11:43:16.110 [DEBUG]  Determining execution strategy
{
  "userInput": "sync initial system data",
  "inputLength": 24
}
2025-08-24 11:43:16.110 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 11:43:16.111 [INFO] [65d9c97f] 📋 Strategy determined
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 11:43:16.111 [INFO]  Discovering MCP tools from servers
2025-08-24 11:43:16.111 [DEBUG]  Listing tools for keycloak
2025-08-24 11:43:16.111 [DEBUG]  Listing tools for neo4j
2025-08-24 11:43:16.112 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:43:16.112 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:43:16.119 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:43:16.120 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-24 11:43:16.120 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 11:43:16.121 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-24 11:43:16.121 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:43:16.121 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:43:16.125 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:43:16.125 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 11:43:16.125 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 11:43:16.126 [INFO] [65d9c97f] 🛠️ Tools selected for request
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 11:43:16.126 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 11:43:16.126 [INFO] [65d9c97f] 🧠 Sending request to Gemini sync initial system data
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-24 11:43:16.126 [DEBUG] [0db6bca0] Sending chat request to Anthropic
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 24,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 11:43:18.747 [INFO] [0db6bca0] Anthropic chat completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 337,
  "usage": {
    "promptTokens": 1985,
    "completionTokens": 133,
    "totalTokens": 2118
  }
}
2025-08-24 11:43:18.747 [INFO] [65d9c97f] 🎭 LLM response received
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 337,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "list-realms"
  ]
}
2025-08-24 11:43:18.748 [INFO] [65d9c97f] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 11:43:18.748 [INFO] [4b26f98f] Processing function calls via Anthropic
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "functionCallsCount": 1
}
2025-08-24 11:43:18.748 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 11:43:18.748 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:43:18.931 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 11:43:18.932 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:43:18.932 [DEBUG] [4b26f98f] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 11:43:20.211 [INFO] [4b26f98f] Function call processing completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "duration": 1463,
  "additionalFunctionCalls": 1
}
2025-08-24 11:43:20.212 [INFO] [65d9c97f] 🔧 Gemini requested more function calls
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 11:43:20.212 [INFO] [65d9c97f] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 11:43:20.212 [INFO] [d8eea656] Processing function calls via Anthropic
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "functionCallsCount": 1
}
2025-08-24 11:43:20.212 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 11:43:20.213 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://localhost:8001"
}
2025-08-24 11:43:20.429 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 11:43:20.431 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:43:20.431 [DEBUG] [d8eea656] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 11:43:21.717 [INFO] [d8eea656] Function call processing completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "duration": 1505,
  "additionalFunctionCalls": 1
}
2025-08-24 11:43:21.717 [INFO] [65d9c97f] 🔧 Gemini requested more function calls
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "get_neo4j_schema"
  ]
}
2025-08-24 11:43:21.718 [INFO] [65d9c97f] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 11:43:21.718 [INFO] [693cf992] Processing function calls via Anthropic
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "functionCallsCount": 1
}
2025-08-24 11:43:21.718 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 11:43:21.719 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:43:21.746 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 11:43:21.747 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:43:21.748 [DEBUG] [693cf992] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 1664
}
2025-08-24 11:43:24.788 [INFO] [693cf992] Function call processing completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "duration": 3070,
  "additionalFunctionCalls": 1
}
2025-08-24 11:43:24.789 [INFO] [65d9c97f] 🔧 Gemini requested more function calls
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:43:24.790 [INFO] [65d9c97f] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:43:24.790 [INFO] [957618c9] Processing function calls via Anthropic
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "functionCallsCount": 1
}
2025-08-24 11:43:24.791 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "MERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true"
  }
}
2025-08-24 11:43:24.791 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:43:24.808 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:43:24.809 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:43:24.809 [DEBUG] [957618c9] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 338
}
2025-08-24 11:43:31.652 [INFO] [957618c9] Function call processing completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "duration": 6862,
  "additionalFunctionCalls": 1
}
2025-08-24 11:43:31.653 [INFO] [65d9c97f] 🔧 Gemini requested more function calls
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:43:31.654 [INFO] [65d9c97f] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 11:43:31.654 [INFO] [326d2f7f] Processing function calls via Anthropic
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "functionCallsCount": 1
}
2025-08-24 11:43:31.654 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "// Sync admin user\nMERGE (u1:User {id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae'})\nSET u1.username = 'admin',\n    u1.enabled = true,\n    u1.emailVerified = false,\n    u1.createdTimestamp = 1755611843167,\n    u1.lastSync = timestamp();\n\n// Sync Jane Smith user\nMERGE (u2:User {id: '6189b406-e03d-4db5-82d7-285b279cd243'})\nSET u2.username = 'jane.smith.test',\n    u2.email = 'jane.smith@ikas-test.com',\n    u2.firstName = 'Jane',\n    u2.lastName = 'Smith',\n    u2.enabled = true,\n    u2.emailVerified = false,\n    u2.createdTimestamp = 1755976235457,\n    u2.lastSync = timestamp();\n\n// Get realm reference\nMATCH (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\n\n// Create relationships\nMERGE (u1)-[:BELONGS_TO]->(r)\nMERGE (u2)-[:BELONGS_TO]->(r);"
  }
}
2025-08-24 11:43:31.655 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://localhost:8002"
}
2025-08-24 11:43:31.677 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 11:43:31.678 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 11:43:31.678 [DEBUG] [326d2f7f] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 427
}
2025-08-24 11:43:34.901 [INFO] [326d2f7f] Function call processing completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "duration": 3247,
  "additionalFunctionCalls": 1
}
2025-08-24 11:43:34.902 [INFO] [65d9c97f] 🔧 Gemini requested more function calls
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 11:43:34.902 [WARN] [65d9c97f] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 11:43:34.903 [INFO] [65d9c97f] 📊 Data aggregation completed
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 11:43:34.903 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 11:43:34.903 [INFO] [65d9c97f] ✅ Orchestration request completed successfully
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "duration": "18793ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 94,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-24 11:43:34.903 [DEBUG]  Sent voice response
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "success": true
}
2025-08-24 11:43:34.904 [INFO]  📤 Processing data updates from orchestration response
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "hasData": true,
  "dataKeys": [
    "realms",
    "users",
    "usage",
    "finishReason"
  ],
  "dataCount": 4
}
2025-08-24 11:43:34.904 [DEBUG]  📦 Sending data update
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "dataType": "realms",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:43:34.904 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "dataType": "realms",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 140,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "realms"
  ]
}
2025-08-24 11:43:34.905 [DEBUG]  📦 Sending data update
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "dataType": "users",
  "hasData": true,
  "dataPreview": "object"
}
2025-08-24 11:43:34.905 [INFO]  📡 Sent data update via WebSocket
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "dataType": "users",
  "eventType": "data:update",
  "recordCount": 3,
  "dataSize": 389,
  "isArray": false,
  "sampleKeys": [
    "success",
    "count",
    "users"
  ]
}
2025-08-24 11:43:34.905 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "dataType": "usage",
  "reason": "metadata type"
}
2025-08-24 11:43:34.905 [DEBUG]  ⏭️ Skipping data update
{
  "sessionId": "e6e273cb-a195-42c7-8c97-9b3a90768b27",
  "dataType": "finishReason",
  "reason": "metadata type"
}
2025-08-24 09:54:31.169 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 09:54:31.171 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 09:54:31.171 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 09:54:31.175 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 09:54:31.175 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 09:54:35.703 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Wget"
}
2025-08-24 09:54:51.196 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-24 09:55:12.549 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-24 09:55:34.840 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-24 09:55:35.755 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "7ms",
  "userAgent": "Wget"
}
2025-08-24 09:55:59.873 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-24 09:56:24.897 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-24 09:56:35.803 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:56:49.915 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-24 09:57:14.944 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-24 09:57:35.853 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:57:39.963 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 8,
  "maxAttempts": 10
}
2025-08-24 09:58:04.986 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 9,
  "maxAttempts": 10
}
2025-08-24 09:58:30.029 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 10,
  "maxAttempts": 10
}
2025-08-24 09:58:30.030 [ERROR]  Failed to connect WebSocket client
{
  "error": "Failed to connect after 10 attempts"
}
2025-08-24 09:58:35.913 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 09:58:55.055 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 11,
  "maxAttempts": 10
}
2025-08-24 09:59:21.781 [DEBUG]  Available models request received
2025-08-24 09:59:21.782 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "claude-opus-4-1-20250805",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:59:21.990 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 09:59:22.049 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 09:59:22.049 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 09:59:24.101 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 09:59:24.102 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "anthropic",
  "currentModel": "claude-opus-4-1-20250805"
}
2025-08-24 09:59:24.104 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "2324ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:59:34.164 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:59:34.182 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "8ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 09:59:35.960 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 10:00:04.168 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "10ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:00:21.154 [DEBUG]  Available models request received
2025-08-24 10:00:21.155 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "claude-opus-4-1-20250805",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 10:00:21.269 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 10:00:21.313 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 10:00:21.314 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:00:23.695 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 10:00:23.696 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "anthropic",
  "currentModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:00:23.697 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "2543ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:00:36.012 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:01:36.066 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:02:36.120 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:03:36.168 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:04:36.222 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:05:36.297 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 10:06:36.365 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:07:36.412 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:08:36.443 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:09:36.493 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:10:36.541 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:11:36.593 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:12:36.651 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:13:36.701 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:14:36.748 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:15:36.796 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:16:36.854 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:17:36.906 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 10:18:36.955 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:19:37.011 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:20:37.053 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:21:37.105 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 10:22:36.262 [INFO]  Chat request received
{
  "sessionId": "1756030956239",
  "messageLength": 28,
  "realm": "master",
  "priority": "normal"
}
2025-08-24 10:22:36.267 [INFO] [d23221f6] 🎯 Starting orchestration request
{
  "sessionId": "1756030956239",
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:22:36.268 [DEBUG]  Determining execution strategy
{
  "userInput": "write all users to the graph",
  "inputLength": 28,
  "realm": "master"
}
2025-08-24 10:22:36.268 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 10:22:36.268 [INFO] [d23221f6] 📋 Strategy determined
{
  "sessionId": "1756030956239",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 10:22:36.268 [INFO]  Discovering MCP tools from servers
2025-08-24 10:22:36.269 [INFO]  Keycloak MCP client initialized
{
  "url": "http://keycloak-mcp:8001"
}
2025-08-24 10:22:36.269 [INFO]  Neo4j MCP client initialized
{
  "url": "http://neo4j-mcp:8002"
}
2025-08-24 10:22:36.269 [DEBUG]  Listing tools for keycloak
2025-08-24 10:22:36.270 [DEBUG]  Listing tools for neo4j
2025-08-24 10:22:36.270 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:22:36.270 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:22:36.273 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 10:22:36.273 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-24 10:22:36.273 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 10:22:36.274 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-24 10:22:36.274 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:22:36.274 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:22:36.276 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 10:22:36.277 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 10:22:36.277 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 10:22:36.278 [INFO] [d23221f6] 🛠️ Tools selected for request
{
  "sessionId": "1756030956239",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 10:22:36.278 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 10:22:36.278 [INFO] [d23221f6] 🧠 Sending request to Gemini write all users to the graph
{
  "sessionId": "1756030956239",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-24 10:22:36.279 [DEBUG] [5fa4cc72] Sending chat request to Anthropic
{
  "sessionId": "1756030956239",
  "model": "claude-opus-4-1-20250805",
  "messageLength": 44,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 10:22:37.153 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:22:43.240 [INFO] [5fa4cc72] Anthropic chat completed
{
  "sessionId": "1756030956239",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 610,
  "usage": {
    "promptTokens": 1993,
    "completionTokens": 213,
    "totalTokens": 2206
  }
}
2025-08-24 10:22:43.241 [INFO] [d23221f6] 🎭 LLM response received
{
  "sessionId": "1756030956239",
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "hasResponse": true,
  "responseLength": 610,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "list-users"
  ]
}
2025-08-24 10:22:43.242 [INFO] [d23221f6] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "1756030956239",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 10:22:43.243 [INFO] [77bc17e0] Processing function calls via Anthropic
{
  "sessionId": "1756030956239",
  "functionCallsCount": 1
}
2025-08-24 10:22:43.245 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 10:22:43.246 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:22:43.455 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 10:22:43.455 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:22:43.456 [DEBUG] [77bc17e0] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 10:22:45.950 [INFO] [77bc17e0] Function call processing completed
{
  "sessionId": "1756030956239",
  "duration": 2707,
  "additionalFunctionCalls": 1
}
2025-08-24 10:22:45.951 [INFO] [d23221f6] 🔧 Gemini requested more function calls
{
  "sessionId": "1756030956239",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "get_neo4j_schema"
  ]
}
2025-08-24 10:22:45.951 [INFO] [d23221f6] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "1756030956239",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 10:22:45.952 [INFO] [a34214f2] Processing function calls via Anthropic
{
  "sessionId": "1756030956239",
  "functionCallsCount": 1
}
2025-08-24 10:22:45.952 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 10:22:45.953 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:22:45.966 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 10:22:45.967 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:22:45.967 [DEBUG] [a34214f2] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 201
}
2025-08-24 10:23:04.195 [INFO] [a34214f2] Function call processing completed
{
  "sessionId": "1756030956239",
  "duration": 18243,
  "additionalFunctionCalls": 1
}
2025-08-24 10:23:04.196 [INFO] [d23221f6] 🔧 Gemini requested more function calls
{
  "sessionId": "1756030956239",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 10:23:04.196 [INFO] [d23221f6] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "1756030956239",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 10:23:04.197 [INFO] [f2305627] Processing function calls via Anthropic
{
  "sessionId": "1756030956239",
  "functionCallsCount": 1
}
2025-08-24 10:23:04.198 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "// Clear existing User nodes from master realm to ensure clean sync\nMATCH (u:User {realm: 'master'})\nDETACH DELETE u;\n\n// Create User nodes for all Keycloak users\nWITH [\n  {\n    id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae',\n    username: 'admin',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755611843167,\n    realm: 'master'\n  },\n  {\n    id: '6189b406-e03d-4db5-82d7-285b279cd243',\n    username: 'jane.smith.test',\n    email: 'jane.smith@ikas-test.com',\n    firstName: 'Jane',\n    lastName: 'Smith',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755976235457,\n    realm: 'master'\n  }\n] AS users\n\nUNWIND users AS userData\nCREATE (u:User:KeycloakUser)\nSET u = userData,\n    u.syncedAt = timestamp(),\n    u.source = 'keycloak'\nRETURN count(u) as usersCreated, collect(u.username) as usernames"
  }
}
2025-08-24 10:23:04.199 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:23:04.211 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 10:23:04.212 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:23:04.212 [DEBUG] [f2305627] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 399
}
2025-08-24 10:23:22.153 [INFO] [f2305627] Function call processing completed
{
  "sessionId": "1756030956239",
  "duration": 17955,
  "additionalFunctionCalls": 1
}
2025-08-24 10:23:22.153 [INFO] [d23221f6] 🔧 Gemini requested more function calls
{
  "sessionId": "1756030956239",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 10:23:22.153 [INFO] [d23221f6] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "1756030956239",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 10:23:22.154 [INFO] [79e68b21] Processing function calls via Anthropic
{
  "sessionId": "1756030956239",
  "functionCallsCount": 1
}
2025-08-24 10:23:22.154 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "// Merge User nodes for all Keycloak users from master realm\nUNWIND [\n  {\n    id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae',\n    username: 'admin',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755611843167,\n    realm: 'master'\n  },\n  {\n    id: '6189b406-e03d-4db5-82d7-285b279cd243',\n    username: 'jane.smith.test',\n    email: 'jane.smith@ikas-test.com',\n    firstName: 'Jane',\n    lastName: 'Smith',\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755976235457,\n    realm: 'master'\n  }\n] AS userData\nMERGE (u:User:KeycloakUser {id: userData.id})\nSET u = userData,\n    u.syncedAt = timestamp(),\n    u.source = 'keycloak'\nRETURN count(u) as usersCreated, collect(u.username) as usernames"
  }
}
2025-08-24 10:23:22.155 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:23:22.292 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 10:23:22.292 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:23:22.292 [DEBUG] [79e68b21] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 340
}
2025-08-24 10:23:32.906 [INFO] [79e68b21] Function call processing completed
{
  "sessionId": "1756030956239",
  "duration": 10752,
  "additionalFunctionCalls": 1
}
2025-08-24 10:23:32.906 [INFO] [d23221f6] 🔧 Gemini requested more function calls
{
  "sessionId": "1756030956239",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 10:23:32.907 [INFO] [d23221f6] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "1756030956239",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "read_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 10:23:32.907 [INFO] [1b22d297] Processing function calls via Anthropic
{
  "sessionId": "1756030956239",
  "functionCallsCount": 1
}
2025-08-24 10:23:32.908 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "args": {
    "query": "// Verify synchronized users\nMATCH (u:User:KeycloakUser {realm: 'master'})\nRETURN u.id as id, \n       u.username as username, \n       u.email as email,\n       u.firstName as firstName,\n       u.lastName as lastName,\n       u.enabled as enabled,\n       u.emailVerified as emailVerified,\n       datetime({epochMillis: u.createdTimestamp}) as createdAt,\n       datetime({epochMillis: u.syncedAt}) as syncedAt\nORDER BY u.createdTimestamp"
  }
}
2025-08-24 10:23:32.910 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/read_neo4j_cypher",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:23:32.917 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/read_neo4j_cypher"
}
2025-08-24 10:23:32.918 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "resultKey": "neo4j_read_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:23:32.918 [DEBUG] [1b22d297] Function call executed successfully
{
  "functionName": "read_neo4j_cypher",
  "resultLength": 248
}
2025-08-24 10:23:37.192 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 10:23:37.303 [INFO] [1b22d297] Function call processing completed
{
  "sessionId": "1756030956239",
  "duration": 4396,
  "additionalFunctionCalls": 1
}
2025-08-24 10:23:37.304 [INFO] [d23221f6] 🔧 Gemini requested more function calls
{
  "sessionId": "1756030956239",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 10:23:37.304 [WARN] [d23221f6] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "1756030956239",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 10:23:37.304 [INFO] [d23221f6] 📊 Data aggregation completed
{
  "sessionId": "1756030956239",
  "totalIterations": 5,
  "toolResultsCount": 4,
  "aggregatedDataKeys": [
    "users"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 10:23:37.304 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 10:23:37.304 [INFO] [d23221f6] ✅ Orchestration request completed successfully
{
  "sessionId": "1756030956239",
  "duration": "61037ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 0,
  "dataKeys": [
    "users"
  ],
  "success": true
}
2025-08-24 10:23:37.304 [INFO]  Chat request processed
{
  "sessionId": "1756030956239",
  "success": true,
  "duration": "61037ms",
  "toolsUsed": 5,
  "strategy": "coordinated_multi_mcp"
}
2025-08-24 10:23:37.305 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "61044ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:24:32.912 [INFO]  Chat request received
{
  "sessionId": "1756030956239",
  "messageLength": 106,
  "realm": "master",
  "priority": "normal"
}
2025-08-24 10:24:32.918 [INFO] [ef5d98c3] 🎯 Starting orchestration request
{
  "sessionId": "1756030956239",
  "userInput": "check the users in the graph, find out which realm they belong to and sync the informationen to the graph.",
  "inputLength": 106,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:24:32.919 [DEBUG]  Determining execution strategy
{
  "userInput": "check the users in the graph, find out which realm they belong to and sync the informationen to the ",
  "inputLength": 106,
  "realm": "master"
}
2025-08-24 10:24:32.919 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 10:24:32.920 [INFO] [ef5d98c3] 📋 Strategy determined
{
  "sessionId": "1756030956239",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 10:24:32.920 [DEBUG]  Returning cached MCP tools
2025-08-24 10:24:32.920 [INFO] [ef5d98c3] 🛠️ Tools selected for request
{
  "sessionId": "1756030956239",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 10:24:32.922 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 10:24:32.922 [INFO] [ef5d98c3] 🧠 Sending request to Gemini check the users in the graph, find out which realm they belong to and sync the informationen to the graph.
{
  "sessionId": "1756030956239",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-24 10:24:32.923 [DEBUG] [980c45e8] Sending chat request to Anthropic
{
  "sessionId": "1756030956239",
  "model": "claude-opus-4-1-20250805",
  "messageLength": 122,
  "toolsCount": 11,
  "historyLength": 13
}
2025-08-24 10:24:33.114 [ERROR] [980c45e8] Anthropic chat request failed
{
  "sessionId": "1756030956239",
  "duration": 191,
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.12: `tool_use` ids were found without `tool_result` blocks immediately after: toolu_012Uc9wNDVyDdQDHKTqsDvTy. Each `tool_use` block must have a corresponding `tool_result` block in the next message.\"},\"request_id\":\"req_011CSSNXQfRdykPeWzi4k9AK\"}"
}
2025-08-24 10:24:33.118 [ERROR] [ef5d98c3] ❌ Orchestration request failed
{
  "sessionId": "1756030956239",
  "userInput": "check the users in the graph, find out which realm they belong to and sync the informationen to the graph.",
  "duration": "197ms",
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.12: `tool_use` ids were found without `tool_result` blocks immediately after: toolu_012Uc9wNDVyDdQDHKTqsDvTy. Each `tool_use` block must have a corresponding `tool_result` block in the next message.\"},\"request_id\":\"req_011CSSNXQfRdykPeWzi4k9AK\"}",
  "stack": "LLMError: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.12: `tool_use` ids were found without `tool_result` blocks immediately after: toolu_012Uc9wNDVyDdQDHKTqsDvTy. Each `tool_use` block must have a corresponding `tool_result` block in the next message.\"},\"request_id\":\"req_011CSSNXQfRdykPeWzi4k9AK\"}\n    at AnthropicService.chat (/app/src/llm/anthropic-service.ts:182:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Orchestrator.processRequest (/app/src/orchestration/orchestrator.ts:122:27)\n    at <anonymous> (/app/src/api/orchestration.ts:102:22)",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:24:33.119 [INFO]  Chat request processed
{
  "sessionId": "1756030956239",
  "success": false,
  "duration": "197ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-24 10:24:33.120 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "209ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:24:37.255 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 10:24:44.951 [INFO]  Chat request received
{
  "sessionId": "1756031084948",
  "messageLength": 106,
  "realm": "master",
  "priority": "normal"
}
2025-08-24 10:24:44.953 [INFO] [9a892ab3] 🎯 Starting orchestration request
{
  "sessionId": "1756031084948",
  "userInput": "check the users in the graph, find out which realm they belong to and sync the informationen to the graph.",
  "inputLength": 106,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:24:44.953 [DEBUG]  Determining execution strategy
{
  "userInput": "check the users in the graph, find out which realm they belong to and sync the informationen to the ",
  "inputLength": 106,
  "realm": "master"
}
2025-08-24 10:24:44.953 [INFO]  Using default COORDINATED_MULTI_MCP strategy
2025-08-24 10:24:44.953 [INFO] [9a892ab3] 📋 Strategy determined
{
  "sessionId": "1756031084948",
  "strategy": "coordinated_multi_mcp",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 10:24:44.953 [DEBUG]  Returning cached MCP tools
2025-08-24 10:24:44.954 [INFO] [9a892ab3] 🛠️ Tools selected for request
{
  "sessionId": "1756031084948",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 10:24:44.954 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 10:24:44.954 [INFO] [9a892ab3] 🧠 Sending request to Gemini check the users in the graph, find out which realm they belong to and sync the informationen to the graph.
{
  "sessionId": "1756031084948",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-24 10:24:44.954 [DEBUG] [92f15f88] Sending chat request to Anthropic
{
  "sessionId": "1756031084948",
  "model": "claude-opus-4-1-20250805",
  "messageLength": 122,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 10:24:51.540 [INFO] [92f15f88] Anthropic chat completed
{
  "sessionId": "1756031084948",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 613,
  "usage": {
    "promptTokens": 2010,
    "completionTokens": 195,
    "totalTokens": 2205
  }
}
2025-08-24 10:24:51.541 [INFO] [9a892ab3] 🎭 LLM response received
{
  "sessionId": "1756031084948",
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "hasResponse": true,
  "responseLength": 613,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-24 10:24:51.542 [INFO] [9a892ab3] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "1756031084948",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 10:24:51.543 [INFO] [060b1566] Processing function calls via Anthropic
{
  "sessionId": "1756031084948",
  "functionCallsCount": 1
}
2025-08-24 10:24:51.543 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 10:24:51.545 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:24:51.577 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 10:24:51.577 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:24:51.578 [DEBUG] [060b1566] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 2088
}
2025-08-24 10:24:59.331 [INFO] [060b1566] Function call processing completed
{
  "sessionId": "1756031084948",
  "duration": 7788,
  "additionalFunctionCalls": 1
}
2025-08-24 10:24:59.331 [INFO] [9a892ab3] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031084948",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 10:24:59.331 [INFO] [9a892ab3] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "1756031084948",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "read_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 10:24:59.331 [INFO] [b8ec8127] Processing function calls via Anthropic
{
  "sessionId": "1756031084948",
  "functionCallsCount": 1
}
2025-08-24 10:24:59.331 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "args": {
    "query": "MATCH (u)\nWHERE u:User OR u:KeycloakUser\nRETURN u.id as id, u.username as username, u.email as email, u.realm as realm, labels(u) as labels\nORDER BY u.username"
  }
}
2025-08-24 10:24:59.332 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/read_neo4j_cypher",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:24:59.401 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/read_neo4j_cypher"
}
2025-08-24 10:24:59.401 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "read_neo4j_cypher",
  "resultKey": "neo4j_read_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:24:59.401 [DEBUG] [b8ec8127] Function call executed successfully
{
  "functionName": "read_neo4j_cypher",
  "resultLength": 489
}
2025-08-24 10:25:02.912 [INFO] [b8ec8127] Function call processing completed
{
  "sessionId": "1756031084948",
  "duration": 3581,
  "additionalFunctionCalls": 1
}
2025-08-24 10:25:02.912 [INFO] [9a892ab3] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031084948",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 10:25:02.912 [INFO] [9a892ab3] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "1756031084948",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 10:25:02.912 [INFO] [63ef158c] Processing function calls via Anthropic
{
  "sessionId": "1756031084948",
  "functionCallsCount": 1
}
2025-08-24 10:25:02.912 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 10:25:02.913 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:25:03.100 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 10:25:03.101 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:25:03.101 [DEBUG] [63ef158c] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 10:25:09.469 [INFO] [63ef158c] Function call processing completed
{
  "sessionId": "1756031084948",
  "duration": 6557,
  "additionalFunctionCalls": 1
}
2025-08-24 10:25:09.470 [INFO] [9a892ab3] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031084948",
  "iteration": 3,
  "additionalFunctionCount": 1,
  "functions": [
    "list-realms"
  ]
}
2025-08-24 10:25:09.470 [INFO] [9a892ab3] ⚙️ Starting function call execution (iteration 4)
{
  "sessionId": "1756031084948",
  "iteration": 4,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 10:25:09.470 [INFO] [441ced36] Processing function calls via Anthropic
{
  "sessionId": "1756031084948",
  "functionCallsCount": 1
}
2025-08-24 10:25:09.470 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 10:25:09.471 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:25:09.673 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 10:25:09.674 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:25:09.674 [DEBUG] [441ced36] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 10:25:33.328 [INFO] [441ced36] Function call processing completed
{
  "sessionId": "1756031084948",
  "duration": 23857,
  "additionalFunctionCalls": 1
}
2025-08-24 10:25:33.328 [INFO] [9a892ab3] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031084948",
  "iteration": 4,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 10:25:33.329 [INFO] [9a892ab3] ⚙️ Starting function call execution (iteration 5)
{
  "sessionId": "1756031084948",
  "iteration": 5,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 10:25:33.329 [INFO] [09bf927c] Processing function calls via Anthropic
{
  "sessionId": "1756031084948",
  "functionCallsCount": 1
}
2025-08-24 10:25:33.330 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "// First, merge and update existing users with complete Keycloak data\nUNWIND [\n  {\n    id: \"f94ecd17-ce46-4663-98e4-0137fa8d82ae\",\n    username: \"admin\",\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755611843167,\n    realm: \"master\"\n  },\n  {\n    id: \"6189b406-e03d-4db5-82d7-285b279cd243\",\n    username: \"jane.smith.test\",\n    email: \"jane.smith@ikas-test.com\",\n    firstName: \"Jane\",\n    lastName: \"Smith\",\n    enabled: true,\n    emailVerified: false,\n    createdTimestamp: 1755976235457,\n    realm: \"master\"\n  }\n] AS userData\n\nMERGE (u:User:KeycloakUser {id: userData.id})\nSET u.username = userData.username,\n    u.enabled = userData.enabled,\n    u.emailVerified = userData.emailVerified,\n    u.createdTimestamp = userData.createdTimestamp,\n    u.realm = userData.realm,\n    u.source = \"keycloak\",\n    u.syncedAt = timestamp()\n\n// Set optional properties if they exist\nWITH u, userData\nWHERE userData.email IS NOT NULL\nSET u.email = userData.email\n\nWITH u, userData\nWHERE userData.firstName IS NOT NULL\nSET u.firstName = userData.firstName\n\nWITH u, userData\nWHERE userData.lastName IS NOT NULL\nSET u.lastName = userData.lastName\n\nRETURN u.id as id, u.username as username, u.realm as realm, u.syncedAt as syncedAt"
  }
}
2025-08-24 10:25:33.332 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:25:33.432 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 10:25:33.432 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:25:33.432 [DEBUG] [09bf927c] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 340
}
2025-08-24 10:25:37.310 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:25:41.622 [INFO] [09bf927c] Function call processing completed
{
  "sessionId": "1756031084948",
  "duration": 8293,
  "additionalFunctionCalls": 1
}
2025-08-24 10:25:41.623 [INFO] [9a892ab3] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031084948",
  "iteration": 5,
  "additionalFunctionCount": 1,
  "functions": [
    "read_neo4j_cypher"
  ]
}
2025-08-24 10:25:41.623 [WARN] [9a892ab3] ⚠️ Function calling loop reached maximum iterations
{
  "sessionId": "1756031084948",
  "maxIterations": 5,
  "totalToolsCalled": 5
}
2025-08-24 10:25:41.624 [INFO] [9a892ab3] 📊 Data aggregation completed
{
  "sessionId": "1756031084948",
  "totalIterations": 5,
  "toolResultsCount": 5,
  "aggregatedDataKeys": [
    "users",
    "realms"
  ],
  "totalToolsCalled": 5,
  "dataTypes": [
    {
      "type": "users",
      "isArray": false,
      "size": 3
    },
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 10:25:41.625 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master",
  "toolsCalledCount": 5
}
2025-08-24 10:25:41.626 [INFO] [9a892ab3] ✅ Orchestration request completed successfully
{
  "sessionId": "1756031084948",
  "duration": "56672ms",
  "strategy": "coordinated_multi_mcp",
  "toolsCalledCount": 5,
  "finalResponseLength": 78,
  "dataKeys": [
    "users",
    "realms"
  ],
  "success": true
}
2025-08-24 10:25:41.626 [INFO]  Chat request processed
{
  "sessionId": "1756031084948",
  "success": true,
  "duration": "56672ms",
  "toolsUsed": 5,
  "strategy": "coordinated_multi_mcp"
}
2025-08-24 10:25:41.628 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "56677ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:26:37.376 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:27:37.424 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:28:28.488 [INFO]  Chat request received
{
  "sessionId": "1756031084948",
  "messageLength": 132,
  "realm": "master",
  "priority": "normal"
}
2025-08-24 10:28:28.496 [INFO] [f136f16f] 🎯 Starting orchestration request
{
  "sessionId": "1756031084948",
  "userInput": "read the realm and user informationen from keycloak and write it to the graph. Create the connections between the realm and the user",
  "inputLength": 132,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:28:28.497 [DEBUG]  Determining execution strategy
{
  "userInput": "read the realm and user informationen from keycloak and write it to the graph. Create the connection",
  "inputLength": 132,
  "realm": "master"
}
2025-08-24 10:28:28.497 [INFO]  Detected write operation, using KEYCLOAK_WRITE_THEN_SYNC strategy
2025-08-24 10:28:28.497 [INFO] [f136f16f] 📋 Strategy determined
{
  "sessionId": "1756031084948",
  "strategy": "keycloak_write_then_sync",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 10:28:28.498 [INFO]  Discovering MCP tools from servers
2025-08-24 10:28:28.498 [DEBUG]  Listing tools for keycloak
2025-08-24 10:28:28.500 [DEBUG]  Listing tools for neo4j
2025-08-24 10:28:28.501 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:28:28.501 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/tools",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:28:28.505 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 10:28:28.505 [DEBUG]  Keycloak tools discovered
{
  "count": 8
}
2025-08-24 10:28:28.506 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools"
}
2025-08-24 10:28:28.507 [DEBUG]  Neo4j tools discovered
{
  "count": 3
}
2025-08-24 10:28:28.508 [DEBUG]  MCP Request [keycloak]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:28:28.508 [DEBUG]  MCP Request [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:28:28.510 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 10:28:28.511 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 10:28:28.511 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 10:28:28.511 [INFO] [f136f16f] 🛠️ Tools selected for request
{
  "sessionId": "1756031084948",
  "strategy": "keycloak_write_then_sync",
  "intent": "write",
  "toolCount": 3,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 10:28:28.511 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master"
}
2025-08-24 10:28:28.511 [INFO] [f136f16f] 🧠 Sending request to Gemini read the realm and user informationen from keycloak and write it to the graph. Create the connections between the realm and the user
{
  "sessionId": "1756031084948",
  "toolCount": 3,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-24 10:28:28.512 [DEBUG] [4876fa08] Sending chat request to Anthropic
{
  "sessionId": "1756031084948",
  "model": "claude-opus-4-1-20250805",
  "messageLength": 148,
  "toolsCount": 3,
  "historyLength": 13
}
2025-08-24 10:28:28.724 [ERROR] [4876fa08] Anthropic chat request failed
{
  "sessionId": "1756031084948",
  "duration": 212,
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.12: `tool_use` ids were found without `tool_result` blocks immediately after: toolu_01XBDx9jjyRjWXSc6EsCNtyf. Each `tool_use` block must have a corresponding `tool_result` block in the next message.\"},\"request_id\":\"req_011CSSNpmyK7AUQ4KnfaRaRn\"}"
}
2025-08-24 10:28:28.729 [ERROR] [f136f16f] ❌ Orchestration request failed
{
  "sessionId": "1756031084948",
  "userInput": "read the realm and user informationen from keycloak and write it to the graph. Create the connections between the realm and the user",
  "duration": "229ms",
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.12: `tool_use` ids were found without `tool_result` blocks immediately after: toolu_01XBDx9jjyRjWXSc6EsCNtyf. Each `tool_use` block must have a corresponding `tool_result` block in the next message.\"},\"request_id\":\"req_011CSSNpmyK7AUQ4KnfaRaRn\"}",
  "stack": "LLMError: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.12: `tool_use` ids were found without `tool_result` blocks immediately after: toolu_01XBDx9jjyRjWXSc6EsCNtyf. Each `tool_use` block must have a corresponding `tool_result` block in the next message.\"},\"request_id\":\"req_011CSSNpmyK7AUQ4KnfaRaRn\"}\n    at AnthropicService.chat (/app/src/llm/anthropic-service.ts:182:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Orchestrator.processRequest (/app/src/orchestration/orchestrator.ts:122:27)\n    at <anonymous> (/app/src/api/orchestration.ts:102:22)",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:28:28.730 [INFO]  Chat request processed
{
  "sessionId": "1756031084948",
  "success": false,
  "duration": "229ms",
  "toolsUsed": 0,
  "strategy": "coordinated_multi_mcp"
}
2025-08-24 10:28:28.731 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "243ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:28:35.497 [INFO]  Chat request received
{
  "sessionId": "1756031315493",
  "messageLength": 132,
  "realm": "master",
  "priority": "normal"
}
2025-08-24 10:28:35.501 [INFO] [3251daa1] 🎯 Starting orchestration request
{
  "sessionId": "1756031315493",
  "userInput": "read the realm and user informationen from keycloak and write it to the graph. Create the connections between the realm and the user",
  "inputLength": 132,
  "realm": "master",
  "context": {
    "realm": "master",
    "preferredLanguage": "en",
    "priority": "normal"
  }
}
2025-08-24 10:28:35.509 [DEBUG]  Determining execution strategy
{
  "userInput": "read the realm and user informationen from keycloak and write it to the graph. Create the connection",
  "inputLength": 132,
  "realm": "master"
}
2025-08-24 10:28:35.509 [INFO]  Detected write operation, using KEYCLOAK_WRITE_THEN_SYNC strategy
2025-08-24 10:28:35.509 [INFO] [3251daa1] 📋 Strategy determined
{
  "sessionId": "1756031315493",
  "strategy": "keycloak_write_then_sync",
  "wasProvided": false,
  "reasoning": "Auto-selected by router"
}
2025-08-24 10:28:35.510 [DEBUG]  Returning cached MCP tools
2025-08-24 10:28:35.510 [INFO] [3251daa1] 🛠️ Tools selected for request
{
  "sessionId": "1756031315493",
  "strategy": "keycloak_write_then_sync",
  "intent": "write",
  "toolCount": 3,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 10:28:35.511 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master"
}
2025-08-24 10:28:35.511 [INFO] [3251daa1] 🧠 Sending request to Gemini read the realm and user informationen from keycloak and write it to the graph. Create the connections between the realm and the user
{
  "sessionId": "1756031315493",
  "toolCount": 3,
  "functionCallingMode": "ANY",
  "context": {
    "realm": "master",
    "language": "en"
  }
}
2025-08-24 10:28:35.511 [DEBUG] [e1d8b0d8] Sending chat request to Anthropic
{
  "sessionId": "1756031315493",
  "model": "claude-opus-4-1-20250805",
  "messageLength": 148,
  "toolsCount": 3,
  "historyLength": 1
}
2025-08-24 10:28:37.482 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:28:45.331 [INFO] [e1d8b0d8] Anthropic chat completed
{
  "sessionId": "1756031315493",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 638,
  "usage": {
    "promptTokens": 1469,
    "completionTokens": 199,
    "totalTokens": 1668
  }
}
2025-08-24 10:28:45.331 [INFO] [3251daa1] 🎭 LLM response received
{
  "sessionId": "1756031315493",
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "hasResponse": true,
  "responseLength": 638,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "list-realms"
  ]
}
2025-08-24 10:28:45.332 [INFO] [3251daa1] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "1756031315493",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-realms",
      "argKeys": []
    }
  ]
}
2025-08-24 10:28:45.332 [INFO] [ace2df3c] Processing function calls via Anthropic
{
  "sessionId": "1756031315493",
  "functionCallsCount": 1
}
2025-08-24 10:28:45.333 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "args": {}
}
2025-08-24 10:28:45.335 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-realms",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:28:45.535 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-realms"
}
2025-08-24 10:28:45.535 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-realms",
  "resultKey": "keycloak_list-realms",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:28:45.536 [DEBUG] [ace2df3c] Function call executed successfully
{
  "functionName": "list-realms",
  "resultLength": 301
}
2025-08-24 10:28:47.993 [INFO] [ace2df3c] Function call processing completed
{
  "sessionId": "1756031315493",
  "duration": 2661,
  "additionalFunctionCalls": 1
}
2025-08-24 10:28:47.993 [INFO] [3251daa1] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031315493",
  "iteration": 1,
  "additionalFunctionCount": 1,
  "functions": [
    "list-users"
  ]
}
2025-08-24 10:28:47.994 [INFO] [3251daa1] ⚙️ Starting function call execution (iteration 2)
{
  "sessionId": "1756031315493",
  "iteration": 2,
  "functionCount": 1,
  "functions": [
    {
      "name": "list-users",
      "argKeys": []
    }
  ]
}
2025-08-24 10:28:47.994 [INFO] [4398474a] Processing function calls via Anthropic
{
  "sessionId": "1756031315493",
  "functionCallsCount": 1
}
2025-08-24 10:28:47.994 [DEBUG]  Executing function call
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "args": {}
}
2025-08-24 10:28:47.996 [DEBUG]  MCP Request [keycloak]
{
  "method": "POST",
  "url": "/tools/list-users",
  "baseURL": "http://keycloak-mcp:8001"
}
2025-08-24 10:28:48.200 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/tools/list-users"
}
2025-08-24 10:28:48.201 [DEBUG]  🔗 Keycloak tool result stored
{
  "serverName": "keycloak",
  "toolName": "list-users",
  "resultKey": "keycloak_list-users",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:28:48.201 [DEBUG] [4398474a] Function call executed successfully
{
  "functionName": "list-users",
  "resultLength": 549
}
2025-08-24 10:29:15.439 [INFO] [4398474a] Function call processing completed
{
  "sessionId": "1756031315493",
  "duration": 27445,
  "additionalFunctionCalls": 1
}
2025-08-24 10:29:15.440 [INFO] [3251daa1] 🔧 Gemini requested more function calls
{
  "sessionId": "1756031315493",
  "iteration": 2,
  "additionalFunctionCount": 1,
  "functions": [
    "write_neo4j_cypher"
  ]
}
2025-08-24 10:29:15.440 [INFO] [3251daa1] ⚙️ Starting function call execution (iteration 3)
{
  "sessionId": "1756031315493",
  "iteration": 3,
  "functionCount": 1,
  "functions": [
    {
      "name": "write_neo4j_cypher",
      "argKeys": [
        "query"
      ]
    }
  ]
}
2025-08-24 10:29:15.440 [INFO] [bdff2af7] Processing function calls via Anthropic
{
  "sessionId": "1756031315493",
  "functionCallsCount": 1
}
2025-08-24 10:29:15.441 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "args": {
    "query": "// First, create or update the realm node\nMERGE (r:Realm {id: '6c618ad6-25b4-4db2-91fc-511035abcaa8'})\nSET r.name = 'master',\n    r.displayName = 'Keycloak',\n    r.enabled = true,\n    r.lastUpdated = datetime()\n\n// Create or update user nodes and their relationships to the realm\nWITH r\n\n// User 1: admin\nMERGE (u1:User {id: 'f94ecd17-ce46-4663-98e4-0137fa8d82ae'})\nSET u1.username = 'admin',\n    u1.enabled = true,\n    u1.emailVerified = false,\n    u1.createdTimestamp = 1755611843167,\n    u1.lastUpdated = datetime()\nMERGE (u1)-[:BELONGS_TO]->(r)\n\nWITH r\n\n// User 2: jane.smith.test\nMERGE (u2:User {id: '6189b406-e03d-4db5-82d7-285b279cd243'})\nSET u2.username = 'jane.smith.test',\n    u2.email = 'jane.smith@ikas-test.com',\n    u2.firstName = 'Jane',\n    u2.lastName = 'Smith',\n    u2.enabled = true,\n    u2.emailVerified = false,\n    u2.createdTimestamp = 1755976235457,\n    u2.lastUpdated = datetime()\nMERGE (u2)-[:BELONGS_TO]->(r)\n\n// Return summary of created/updated nodes and relationships\nWITH r\nMATCH (u:User)-[:BELONGS_TO]->(r)\nRETURN r.name as realm, \n       r.displayName as realmDisplayName,\n       count(u) as userCount,\n       collect(u.username) as usernames"
  }
}
2025-08-24 10:29:15.443 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/write_neo4j_cypher",
  "baseURL": "http://neo4j-mcp:8002"
}
2025-08-24 10:29:15.601 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/write_neo4j_cypher"
}
2025-08-24 10:29:15.602 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "write_neo4j_cypher",
  "resultKey": "neo4j_write_neo4j_cypher",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 10:29:15.602 [DEBUG] [bdff2af7] Function call executed successfully
{
  "functionName": "write_neo4j_cypher",
  "resultLength": 340
}
2025-08-24 10:29:34.690 [INFO] [bdff2af7] Function call processing completed
{
  "sessionId": "1756031315493",
  "duration": 19250,
  "additionalFunctionCalls": 0
}
2025-08-24 10:29:34.691 [INFO] [3251daa1] ✅ Gemini finished calling functions
{
  "sessionId": "1756031315493",
  "iteration": 3,
  "totalToolsCalled": 3
}
2025-08-24 10:29:34.691 [INFO] [3251daa1] 📊 Data aggregation completed
{
  "sessionId": "1756031315493",
  "totalIterations": 3,
  "toolResultsCount": 3,
  "aggregatedDataKeys": [
    "realms",
    "users"
  ],
  "totalToolsCalled": 3,
  "dataTypes": [
    {
      "type": "realms",
      "isArray": false,
      "size": 3
    },
    {
      "type": "users",
      "isArray": false,
      "size": 3
    }
  ]
}
2025-08-24 10:29:34.692 [DEBUG]  Skipping post-processing - Gemini orchestrates all operations
{
  "strategy": "keycloak_write_then_sync",
  "realm": "master",
  "toolsCalledCount": 3
}
2025-08-24 10:29:34.693 [INFO] [3251daa1] ✅ Orchestration request completed successfully
{
  "sessionId": "1756031315493",
  "duration": "59192ms",
  "strategy": "keycloak_write_then_sync",
  "toolsCalledCount": 3,
  "finalResponseLength": 1226,
  "dataKeys": [
    "realms",
    "users"
  ],
  "success": true
}
2025-08-24 10:29:34.693 [INFO]  Chat request processed
{
  "sessionId": "1756031315493",
  "success": true,
  "duration": "59192ms",
  "toolsUsed": 3,
  "strategy": "keycloak_write_then_sync"
}
2025-08-24 10:29:34.695 [INFO]  HTTP Request
{
  "method": "POST",
  "url": "/chat",
  "status": 200,
  "duration": "59198ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:29:37.508 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:30:37.549 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:31:37.603 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:32:37.645 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:33:37.690 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 10:34:37.734 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 10:35:37.789 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:36:37.833 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "3ms",
  "userAgent": "Wget"
}
2025-08-24 10:37:37.873 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "2ms",
  "userAgent": "Wget"
}
2025-08-24 10:38:14.595 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 12:38:14.743 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 10:38:14.889 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:38:14.891 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:38:14.891 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:38:14.896 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:38:14.896 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:38:20.085 [INFO]  Received SIGTERM, shutting down gracefully
ider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-24 12:38:15.100 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-24 12:38:15.100 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-24 12:38:15.102 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-24 12:38:15.103 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-24 12:38:15.124 [INFO]  Connected to WebSocket server
{
  "socketId": "yGUkITbI9nR6FrKeAAAX"
}
2025-08-24 12:38:15.125 [INFO]  WebSocket client connected successfully
2025-08-24 12:38:15.125 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "3cf53870-baa5-4493-8214-3e3a4cd96808"
}
2025-08-24 12:38:15.125 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 12:38:20.167 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 10:38:20.414 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:38:20.416 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:38:20.416 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:38:20.422 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:38:20.423 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:38:37.933 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "13ms",
  "userAgent": "Wget"
}
2025-08-24 10:38:40.434 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-24 10:38:42.527 [INFO]  Received SIGTERM, shutting down gracefully
"
}
2025-08-24 12:38:20.431 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 12:38:42.710 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 10:38:42.844 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:38:42.846 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:38:42.846 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:38:42.852 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:38:42.852 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:38:59.708 [INFO]  Received SIGTERM, shutting down gracefully
ider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-24 12:38:42.960 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-24 12:38:42.961 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-24 12:38:42.963 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-24 12:38:42.963 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-24 12:38:42.980 [INFO]  Connected to WebSocket server
{
  "socketId": "mt7npIn_1hwDzzrUAAAb"
}
2025-08-24 12:38:42.980 [INFO]  WebSocket client connected successfully
2025-08-24 12:38:42.983 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "dfb5601d-a8e6-4f22-adaa-9c0d7b5cc338"
}
2025-08-24 12:38:42.984 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 12:38:59.839 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 10:39:00.067 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:39:00.069 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:39:00.070 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:39:00.075 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:39:00.075 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:39:07.702 [INFO]  Received SIGTERM, shutting down gracefully
ider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "previousProvider": null
}
2025-08-24 12:39:00.120 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "apiKeyPresent": true
}
2025-08-24 12:39:00.120 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-3-5-sonnet-20241022"
}
2025-08-24 12:39:00.122 [INFO]  IKAS AI Gateway started
{
  "port": 8007,
  "environment": "development",
  "keycloakMcp": "http://localhost:8001",
  "neo4jMcp": "http://localhost:8002"
}
2025-08-24 12:39:00.122 [INFO]  Connecting to WebSocket server
{
  "url": "http://localhost:3001"
}
2025-08-24 12:39:00.139 [INFO]  Connected to WebSocket server
{
  "socketId": "_Cad44rx6IhLzh9MAAAd"
}
2025-08-24 12:39:00.139 [INFO]  WebSocket client connected successfully
2025-08-24 12:39:00.142 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "52421938-58b8-42ee-9cd5-9490e51227de"
}
2025-08-24 12:39:00.142 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 12:39:07.718 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 10:39:08.055 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:39:08.057 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:39:08.057 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:39:08.062 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:39:08.062 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:39:13.855 [INFO]  Received SIGTERM, shutting down gracefully
d86M6HiDiET8NcrxAAAf"
}
2025-08-24 12:39:08.019 [INFO]  WebSocket client connected successfully
2025-08-24 12:39:08.019 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "096924bf-d984-4670-b760-7ec1bde49c7f"
}
2025-08-24 12:39:08.019 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 12:39:13.902 [INFO]  Received SIGTERM, shutting down gracefully
2025-08-24 10:39:14.390 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:39:14.391 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:39:14.392 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:39:14.397 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:39:14.397 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:39:25.790 [INFO]  Received SIGTERM, shutting down gracefully
qupdq7pD7HnU1F3KAAAh"
}
2025-08-24 12:39:14.290 [INFO]  WebSocket client connected successfully
2025-08-24 12:39:14.298 [INFO]  WebSocket session established Welcome to IKAS! Connection established successfully.
{
  "sessionId": "3fc0a640-c737-47ec-a70b-4729b2200327"
}
2025-08-24 12:39:14.299 [DEBUG]  Subscription confirmed
{
  "eventTypes": [
    "voice:command",
    "analysis:started",
    "compliance:check"
  ],
  "room": "global"
}
2025-08-24 10:39:26.422 [INFO]  Creating new LLM service instance
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "previousProvider": null
}
2025-08-24 10:39:26.423 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:39:26.424 [INFO]  Orchestrator initialized
{
  "llmProvider": "anthropic",
  "llmModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:39:26.428 [INFO]  IKAS AI Gateway started
{
  "port": 8005,
  "environment": "development",
  "keycloakMcp": "http://keycloak-mcp:8001",
  "neo4jMcp": "http://neo4j-mcp:8002"
}
2025-08-24 10:39:26.428 [INFO]  Connecting to WebSocket server
{
  "url": "http://websocket-server:3001"
}
2025-08-24 10:39:31.077 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "15ms",
  "userAgent": "Wget"
}
2025-08-24 10:39:46.448 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 1,
  "maxAttempts": 10
}
2025-08-24 10:40:08.824 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 2,
  "maxAttempts": 10
}
2025-08-24 10:40:31.125 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Wget"
}
2025-08-24 10:40:33.197 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 3,
  "maxAttempts": 10
}
2025-08-24 10:40:58.210 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 4,
  "maxAttempts": 10
}
2025-08-24 10:41:23.225 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 5,
  "maxAttempts": 10
}
2025-08-24 10:41:31.179 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "6ms",
  "userAgent": "Wget"
}
2025-08-24 10:41:40.121 [DEBUG]  Available models request received
2025-08-24 10:41:40.123 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "claude-opus-4-1-20250805",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 10:41:40.336 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 10:41:40.396 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 10:41:40.397 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:41:42.774 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 10:41:42.775 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "anthropic",
  "currentModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:41:42.777 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "2657ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:41:48.237 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 6,
  "maxAttempts": 10
}
2025-08-24 10:41:52.841 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "9ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:41:52.851 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "5ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:42:04.929 [DEBUG]  Available models request received
2025-08-24 10:42:04.930 [INFO]  Gemini service initialized
{
  "provider": "gemini",
  "model": "claude-opus-4-1-20250805",
  "apiConfigured": true,
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 10:42:05.026 [INFO]  Ollama service initialized
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "temperature": 0.1,
  "maxTokens": 8192
}
2025-08-24 10:42:05.064 [WARN]  Ollama service availability check failed
{
  "provider": "ollama",
  "model": "claude-opus-4-1-20250805",
  "baseURL": "http://localhost:11434",
  "error": "connect ECONNREFUSED ::1:11434"
}
2025-08-24 10:42:05.064 [INFO]  Anthropic service initialized
{
  "provider": "anthropic",
  "model": "claude-opus-4-1-20250805",
  "apiKeyPresent": true
}
2025-08-24 10:42:07.873 [DEBUG]  Provider openai not available
{
  "error": "OPENAI_API_KEY is required"
}
2025-08-24 10:42:07.874 [INFO]  Models info retrieved
{
  "availableProviders": 1,
  "currentProvider": "anthropic",
  "currentModel": "claude-opus-4-1-20250805"
}
2025-08-24 10:42:07.876 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/models",
  "status": 200,
  "duration": "2947ms",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36"
}
2025-08-24 10:42:13.246 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 7,
  "maxAttempts": 10
}
2025-08-24 10:42:31.224 [INFO]  HTTP Request
{
  "method": "GET",
  "url": "/",
  "status": 200,
  "duration": "4ms",
  "userAgent": "Wget"
}
2025-08-24 10:42:38.259 [ERROR]  WebSocket connection error
{
  "error": "timeout",
  "attempts": 8,
  "maxAttempts": 10
}
st [neo4j]
{
  "method": "GET",
  "url": "/health",
  "baseURL": "http://localhost:8002"
}
2025-08-24 12:41:43.847 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 12:41:43.848 [DEBUG]  MCP Response [keycloak]
{
  "status": 200,
  "url": "/health"
}
2025-08-24 12:41:43.848 [INFO]  MCP tool discovery completed
{
  "keycloakTools": 8,
  "neo4jTools": 3,
  "totalTools": 11,
  "keycloakHealthy": true,
  "neo4jHealthy": true
}
2025-08-24 12:41:43.849 [INFO] [087c4a0d] 🛠️ Tools selected for request
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "strategy": "coordinated_multi_mcp",
  "intent": "all",
  "toolCount": 11,
  "availableTools": [
    {
      "name": "create-user",
      "description": "Keycloak create-user tool Verwende dies für das Erstellen neuer Benutzer in Keycloak."
    },
    {
      "name": "list-users",
      "description": "Keycloak list-users tool Verwende dies für aktuelle Live-Benutzerdaten aus Keycloak."
    },
    {
      "name": "delete-user",
      "description": "Keycloak delete-user tool Verwende dies zum Löschen von Benutzern. Erfordert Bestätigung."
    },
    {
      "name": "get-user",
      "description": "Keycloak get-user tool"
    },
    {
      "name": "list-realms",
      "description": "Keycloak list-realms tool Zeigt verfügbare Keycloak-Realms."
    },
    {
      "name": "list-admin-events",
      "description": "Keycloak list-admin-events tool Für aktuelle administrative Aktionen und Audit-Trails."
    },
    {
      "name": "get-event-details",
      "description": "Keycloak get-event-details tool Für detaillierte Informationen zu spezifischen Events."
    },
    {
      "name": "get-metrics",
      "description": "Keycloak get-metrics tool Für aktuelle System-Metriken und Statistiken."
    },
    {
      "name": "get_neo4j_schema",
      "description": "Neo4j get_neo4j_schema tool Verwende dies um die Datenstruktur vor komplexen Abfragen zu verstehen."
    },
    {
      "name": "read_neo4j_cypher",
      "description": "Neo4j read_neo4j_cypher tool Für Musteranalyse, Beziehungsabfragen und historische Datenanalyse."
    },
    {
      "name": "write_neo4j_cypher",
      "description": "Neo4j write_neo4j_cypher tool Für Daten-Updates, Synchronisation und Strukturänderungen."
    }
  ]
}
2025-08-24 12:41:43.849 [DEBUG]  Skipping pre-processing - Gemini will handle orchestration
{
  "strategy": "coordinated_multi_mcp",
  "realm": "master"
}
2025-08-24 12:41:43.849 [INFO] [087c4a0d] 🧠 Sending request to anthropic sync initial system data
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "toolCount": 11,
  "functionCallingMode": "ANY",
  "context": {
    "language": "en"
  }
}
2025-08-24 12:41:43.850 [DEBUG] [7a6b4859] Sending chat request to Anthropic
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "model": "claude-3-5-sonnet-20241022",
  "messageLength": 24,
  "toolsCount": 11,
  "historyLength": 1
}
2025-08-24 12:41:46.552 [INFO] [7a6b4859] Anthropic chat completed
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "finishReason": "function_call",
  "functionCallsCount": 1,
  "responseLength": 394,
  "usage": {
    "promptTokens": 1985,
    "completionTokens": 147,
    "totalTokens": 2132
  }
}
2025-08-24 12:41:46.553 [INFO] [087c4a0d] 🎭 LLM response received
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "provider": "anthropic",
  "model": "claude-3-5-sonnet-20241022",
  "hasResponse": true,
  "responseLength": 394,
  "hasFunctionCalls": true,
  "functionCallCount": 1,
  "functionNames": [
    "get_neo4j_schema"
  ]
}
2025-08-24 12:41:46.554 [INFO] [087c4a0d] ⚙️ Starting function call execution (iteration 1)
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "iteration": 1,
  "functionCount": 1,
  "functions": [
    {
      "name": "get_neo4j_schema",
      "argKeys": []
    }
  ]
}
2025-08-24 12:41:46.555 [INFO] [74378259] Processing function calls via Anthropic
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "functionCallsCount": 1
}
2025-08-24 12:41:46.556 [DEBUG]  Executing function call
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "args": {}
}
2025-08-24 12:41:46.558 [DEBUG]  MCP Request [neo4j]
{
  "method": "POST",
  "url": "/tools/get_neo4j_schema",
  "baseURL": "http://localhost:8002"
}
2025-08-24 12:41:46.612 [DEBUG]  MCP Response [neo4j]
{
  "status": 200,
  "url": "/tools/get_neo4j_schema"
}
2025-08-24 12:41:46.613 [DEBUG]  🔗 Neo4j tool result stored
{
  "serverName": "neo4j",
  "toolName": "get_neo4j_schema",
  "resultKey": "neo4j_get_neo4j_schema",
  "success": true,
  "hasData": true,
  "dataType": "object",
  "dataSize": 3
}
2025-08-24 12:41:46.614 [DEBUG] [74378259] Function call executed successfully
{
  "functionName": "get_neo4j_schema",
  "resultLength": 3032
}
2025-08-24 12:41:46.796 [ERROR] [74378259] Function call processing failed
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "duration": 241,
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.2.content.0: unexpected `tool_use_id` found in `tool_result` blocks: toolu_01C8M4XQ46vPEstSvetkmoDV. Each `tool_result` block must have a corresponding `tool_use` block in the previous message.\"},\"request_id\":\"req_011CSSPqbygk1DVTg44rnAi1\"}"
}
2025-08-24 12:41:46.808 [ERROR] [087c4a0d] ❌ Orchestration request failed
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "userInput": "sync initial system data",
  "duration": "2978ms",
  "error": "400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.2.content.0: unexpected `tool_use_id` found in `tool_result` blocks: toolu_01C8M4XQ46vPEstSvetkmoDV. Each `tool_result` block must have a corresponding `tool_use` block in the previous message.\"},\"request_id\":\"req_011CSSPqbygk1DVTg44rnAi1\"}",
  "stack": "LLMError: 400 {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"messages.2.content.0: unexpected `tool_use_id` found in `tool_result` blocks: toolu_01C8M4XQ46vPEstSvetkmoDV. Each `tool_result` block must have a corresponding `tool_use` block in the previous message.\"},\"request_id\":\"req_011CSSPqbygk1DVTg44rnAi1\"}\n    at AnthropicService.processFunctionCalls (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/llm/anthropic-service.ts:313:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Orchestrator.processRequest (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/orchestration/orchestrator.ts:176:31)\n    at async WebSocketClient.processWithOrchestrator (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/websocket/client.ts:325:12)\n    at async WebSocketClient.handleVoiceCommand (/Users/marcelmeyer/IdeaProjects/IKAS Project/IKAS/ai-gateway/src/websocket/client.ts:187:24)",
  "context": {
    "source": "voice",
    "confidence": 1,
    "language": "de-DE"
  }
}
2025-08-24 12:41:46.809 [DEBUG]  Sent voice response
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "success": false
}
2025-08-24 12:41:46.810 [DEBUG]  📭 No data updates to send
{
  "sessionId": "bcb1f16a-023c-453c-9ce4-f39f37d0fe4b",
  "success": false,
  "hasData": false
}
